/*!
 (c)2022 TAFE QLD
 tq-template-framework 0.7.4 
 Generated on: 2022-2-24 
*/
jQuery.fn.flipcard=function(e){var t=$.extend({},{dropShadow:!0,isIE:!1,perspective:1e3,duration:"0.6s",trigger:"hover",animationStyle:"linear",cols:3,instructions:"Click the buttons to learn more",fullWidthCards:!1},e),n={init:function(){n.detectIE(),n.createElements(),n.build(),n.applyCSS(),n.loadImages(),n.addContent(),n.bindCardFlipEvents(),n.screenReader(),n.wrapText(),n.resizeCards(),n.addIcon()},createElements:function(){t.elements.scrRdr=$("<div aria-live='assertive' id='screenRdr_"+t.elements.main.attr("id")+"' class='sr-only'>"),t.elements.colContainer=$("<div class='flipcardColContainer'>"),t.elements.flipIcon=$("<i class='flipcard-flip-icon fa fa-reply-all fa-rotate-180'>"),t.elements.innerContainer=$("<div class='flipcardInnerContainer'>"),t.elements.button=$("<button aria-labelledby='screenRdr_"+t.elements.main.attr("id")+"' class='btn btn-default flipcardBtn'>"),0==t.isIE?(t.elements.outerContainer=$("<div aria-labelledby='screenRdr_"+t.elements.main.attr("id")+"' href='javascript:void(0)' tabindex='0' class='flipcardOuterContainer'>"),t.elements.cardFront=$("<div class='flipActive flipcard flipcardFront'>"),t.elements.cardBack=$("<div class='flipcardBack flipcard'>")):(t.elements.outerContainer=$("<div aria-labelledby='screenRdr_"+t.elements.main.attr("id")+"' href='javascript:void(0)' tabindex='0' class='flipcardOuterContainer flipcardOuterContainerIE'>"),t.elements.cardFront=$("<div class='flipActive flipcardFront flipcardFrontIE'>"),t.elements.cardBack=$("<div class='flipcardBack flipcardBackIE'>"))},build:function(e){t.elements.scrRdr.insertBefore(t.elements.main);for(var n=0;n<t.cards.length;n++)t.elements.main.append(t.elements.colContainer.clone().append(t.elements.outerContainer.clone().append(t.elements.innerContainer.clone())).addClass("col-md-"+t.cols+" col-sm-"+t.cols+" col-xs-6"));t.elements.main.find(".flipcardInnerContainer").each(function(e){$(this).append(t.elements.cardFront.clone()).append(t.elements.cardBack.clone())})},applyCSS:function(){t.elements.main.find(".flipcardOuterContainer").each(function(e){t.dropShadow&&($(this).find(".flipcardBack").addClass("flipcard-dropshadow"),$(this).find(".flipcardFront").addClass("flipcard-dropshadow"))}),0==t.isIE?(t.elements.main.find(".flipcardOuterContainer").css("perspective",t.perspective).css("-webkit-perspective",t.perspective).css("-o-perspective",t.perspective).css("-moz-perspective",t.perspective).css("-ms-perspective",t.perspective),t.elements.main.find(".flipcard").css("transition",t.duration+" "+t.animationStyle).css("-webkit-transition",t.duration+" "+t.animationStyle).css("-o-transition",t.duration+" "+t.animationStyle).css("-moz-transition",t.duration+" "+t.animationStyle).css("-ms-transition",t.duration+" "+t.animationStyle)):t.elements.main.find(".flipcardBack").each(function(e){$(this).css("transform","rotateY(0deg)")})},loadImages:function(){for(var e=0;e<t.cards.length;e++){var s=t.cards[e].front,i=t.cards[e].back,a="";if(s.toString().indexOf("img")>-1)if(s.indexOf(".jpg")<0)a=s.substring(s.indexOf("src=")+5,s.indexOf(".png")+4);else a=s.substring(s.indexOf("src=")+5,s.indexOf(".jpg")+4);else if(i.toString().indexOf("img")>-1)if(i.indexOf(".jpg")<0)a=i.substring(i.indexOf("src=")+5,i.indexOf(".png")+4);else a=i.substring(i.indexOf("src=")+5,i.indexOf(".jpg")+4);var l=new Image;l.onload=function(){n.resizeCards()},l.src=a}},addContent:function(e){t.elements.main.find(".flipcardFront").each(function(e){$(this).html(t.cards[e].front),$(this).children().load(function(){n.applyCSS()}),$(this).children().has("img")&&$(this).children().addClass("img-responsive");var s=""+t.cards[e].front;t.cards[e].back;s.indexOf("<p>")>-1&&$(this).addClass("flipcardTextCard")}),t.elements.main.find(".flipcardBack").each(function(e){$(this).html(t.cards[e].back);(""+t.cards[e].back).indexOf("<p>")>-1&&$(this).addClass("flipcardTextCard")}),t.fullWidthCards?t.elements.main.find(".flipcardColContainer").removeClass("col-md-3").addClass("col-md-12"):n.offsetCols()},bindCardFlipEvents:function(){0==t.isIE?(t.elements.main.find(".flipcardOuterContainer").keydown(function(e){13==e.which&&("click"==t.trigger?$(this).children().toggleClass("flipThis"):"hover"==t.trigger&&(t.elements.main.find(".flipcardInnerContainer").removeClass("flipThis"),$(this).children().addClass("flipThis")),$(this).find(".flipcardFront").toggleClass("flipActive"),$(this).find(".flipcardBack").toggleClass("flipActive"))}),"click"==t.trigger?t.elements.main.find(".flipcardOuterContainer").click(function(){$(this).children().toggleClass("flipThis"),$(this).find(".flipcardFront").toggleClass("flipActive"),$(this).find(".flipcardBack").toggleClass("flipActive")}):"hover"==t.trigger&&t.elements.main.find(".flipcardOuterContainer").hover(function(){$(this).children().toggleClass("flipThis"),$(this).find(".flipcardFront").toggleClass("flipActive"),$(this).find(".flipcardBack").toggleClass("flipActive")},function(){$(this).children().toggleClass("flipThis"),$(this).find(".flipcardFront").toggleClass("flipActive"),$(this).find(".flipcardBack").toggleClass("flipActive")})):($(".flipcardBack").hide(),t.elements.main.find(".flipcardOuterContainer").keydown(function(e){13==e.which&&($(this).find(".flipcardFront").fadeToggle(),$(this).find(".flipcardBack").fadeToggle())}),t.elements.main.find(".flipcardOuterContainer").click(function(){$(this).find(".flipcardFront").fadeToggle(),$(this).find(".flipcardBack").fadeToggle()})),$(window).resize(function(){n.resizeCards()})},detectIE:function(){navigator.userAgent.indexOf("MSIE 10.0")>-1?t.isIE=!0:-1!==navigator.userAgent.indexOf("MSIE")?t.isIE=!0:t.isIE=!1},screenReader:function(){t.elements.main.find(".flipcardOuterContainer").keydown(function(e){13==e.which&&t.elements.scrRdr.html($(this).find(".flipActive").html())}),t.elements.main.find(".flipcardOuterContainer").focus(function(){t.elements.scrRdr.html($(this).find(".flipActive").html())})},offsetCols:function(){function e(e){12==i?(e.removeAttr("class").addClass("flipcardColContainer").addClass("col-xs-12").addClass("col-sm-"+i).addClass("col-md-"+i),e.addClass("col-xs-offset-0").addClass("col-sm-offset-"+a).addClass("col-md-offset-"+a)):(e.removeAttr("class").addClass("flipcardColContainer").addClass("col-xs-6").addClass("col-sm-"+i).addClass("col-md-"+i),e.addClass("col-xs-offset-0").addClass("col-sm-offset-"+a).addClass("col-md-offset-"+a))}var n=t.elements.main.find(".flipcardColContainer"),s=n.length,i=3,a=0;if(s>4){if(5==s){l=s%4+5;i=4,e(r=n),a=2,l=s%4+1,e(r=n.eq(s-l))}else if(s%4==3){var l=s%4+1,r=n.eq(s-l).nextAll();i=4,e(r)}else if(s%4==2){var l=s%4,r=n.eq(s-l);a=3,e(r)}else if(s%4==1){var l=s%4+5,r=n.eq(s-l).nextAll();i=4,e(r),a=2,l=s%4+1,e(r=n.eq(s-l))}}else if(s%4==3){i=4,e(r=n)}else if(s%4==2){i=6,e(r=n)}else if(s%4==1){i=12,e(r=n)}},wrapText:function(){t.elements.main.find(".flipcardOuterContainer").each(function(){$(this).children().children().wrapInner($("<span class='flipcardSpan'></span>"))})},resizeCards:function(){t.elements.main.find(".flipcardOuterContainer").css("height","auto"),t.elements.main.find(".flipcardOuterContainer").find(".flipcard").css("height","auto"),t.elements.main.find(".flipcardOuterContainer").each(function(e){var t=0;t=$(this).find(".flipcardFront").height()>$(this).find(".flipcardBack").height()?$(this).find(".flipcardFront").height():$(this).find(".flipcardBack").height(),$(this).find(".flipcard").css("height",t),$(this).css("height",t)})},addIcon:function(){t.elements.main.find(".flipcardFront").append(t.elements.flipIcon.clone()),t.elements.main.find(".flipcardBack").append(t.elements.flipIcon.clone())}};return this.each(function(){t.elements={},t.elements.main=$(this).addClass("row"),n.init(this)})},jQuery.fn.checklist=function(e){var t=$.extend({},{col:"12",title:"Checklist",instructions:"Click on the checkboxes below to to show more information.",insidePanel:!1,useHeadings:!1},e),n={init:function(){n.createElements(),n.buildChecklist(),n.addText(),n.bindEvents(),t.usingStaticItems&&(n.setHeight(),$(window).on("resize",function(){n.setHeight()}))},createElements:function(){t.elements.titleWrapper=$("<div>"),t.elements.titleText=$('<i class="tqi tqi-activity tqi-2x tq-panel-icon pull-left"></i><h3 class="panel-title">'+t.title+"</h3>"),t.elements.instructions=$('<p tabindex="0">'+t.instructions+"</p>"),t.elements.checklistRow=$('<div class="checklist-main-wrapper">'),t.elements.showAllBtn=$('<div class="checklist-btn-clear checklist-btn-container col-md-6"><button aria-hidden="true" class="checklist-show-all-btn checklist-btn pull-right btn btn-success">Show All Items <i class="fa fa-plus-square"></i></button></div>'),t.elements.hideAllBtn=$('<div class="checklist-btn-container col-md-6"><button aria-hidden="true" class="checklist-hide-all-btn checklist-btn pull-right btn btn-danger">Hide All Items <i class="fa fa-minus-square"></i></button></div>'),t.elements.checkBox=$('<input tabindex="0" aria-labelledby="textAria_'+t.elements.main.attr("id")+'" class="checkbox" type="checkbox">'),t.elements.checklistText=$('<p class="checklistText">'),t.elements.ariaTextBox=$('<div class="sr-only" id="textAria_'+t.elements.main.attr("id")+'">'),1==t.insidePanel?(t.elements.outerWrapper=$('<div class="checklistWrapper checklistWrapperInsidePanel input-group">'),t.elements.mainWrapper=$('<div class="mainChecklistWrapperInsidePanel mainChecklistWrapper col-md-'+t.col+'">'),t.elements.main.parent().addClass("checklistPanel"),t.elements.titleBG=$('<div class="checklistTitleBG checklistTitleBGInsidePanel">'),t.elements.textWrapper=$('<div tabindex="0" class="textWrapper form-control textWrapperInsidePanel">'),t.elements.innerWrapper=$('<span class="input-group-addon input-group-addonInsidePanel">')):(t.elements.outerWrapper=$('<div class="checklistWrapper input-group">'),t.elements.mainWrapper=$('<div class="mainChecklistWrapper col-md-'+t.col+'">'),t.elements.titleBG=$('<div class="checklistTitleBG">'),t.elements.textWrapper=$('<div tabindex="0" class="textWrapper form-control">'),t.elements.innerWrapper=$('<span class="input-group-addon">')),t.usingStaticItems&&(t.elements.staticText=$('<div tabindex="0" class="checklist-static-text col-sm-'+t.staticCol+" col-md-"+t.staticCol+'"><p></p></div>')),t.useHeadings&&(t.elements.checklistHeaderText=$('<h4 class="checklistHeaderText">'))},buildChecklist:function(){t.elements.main.append(t.elements.ariaTextBox),t.elements.main.append(t.elements.titleWrapper),t.elements.main.append(t.elements.checklistRow),t.elements.titleWrapper.append(t.elements.titleBG),t.elements.titleBG.append(t.elements.titleText),t.elements.titleBG.append(t.elements.instructions);for(var e=0;e<t.container[0].list.length;e++){if(t.usingStaticItems)var n=t.elements.staticText.clone();var s=t.elements.mainWrapper.clone(),i=t.elements.outerWrapper.clone(),a=t.elements.innerWrapper.clone(),l=t.elements.checkBox.clone(),r=t.elements.textWrapper.clone();if(t.useHeadings)var o=t.elements.checklistHeaderText.clone();var c=t.elements.checklistText.clone();t.usingStaticItems?t.elements.checklistRow.append(n).append(s):t.elements.checklistRow.append(s),s.append(i),i.append(a),a.append(l.attr("data-num",e)),i.append(r),t.useHeadings?r.append(o).append(c.attr("data-num",e)):r.append(c.attr("data-num",e))}t.elements.checklistRow.append(t.elements.showAllBtn),t.elements.checklistRow.append(t.elements.hideAllBtn),t.elements.checklistRow.append($("<div class='clearfix'>"))},addText:function(){t.elements.main.find(".checklistHeaderText").each(function(e){t.useHeadings&&t.container[0].list[e].heading&&$(this).html(t.container[0].list[e].heading)}),t.elements.main.find(".checklistText").each(function(e){$(this).html(t.container[0].list[e].item).addClass("hiddenChecklistText")}),t.elements.main.find(".checklist-static-text").each(function(e){$(this).children().html(t.container[0].list[e].staticItem)})},bindEvents:function(){t.elements.main.find(".input-group-addon").on("click",function(){n.toggleActive($(this).parent()),n.toggleText($(this).find(".checkbox"))}),t.elements.main.find(".input-group-addon").parent().focus(function(){n.changeScrRdrTextBox($(this).find(".checkbox").children())}),t.elements.main.find(".checklist-show-all-btn").on("click",function(){n.showAllItems()}),t.elements.main.find(".checklist-hide-all-btn").on("click",function(){n.hideAllItems()})},showAllItems:function(){t.elements.main.find(".checklistWrapper").each(function(e){$(this).find(".checkbox").parent().addClass("checkboxHighlight"),$(this).find(".checklistText").removeClass("hiddenChecklistText"),$(this).find(".checklistText").show(),$(this).find('input[type="checkbox"]').prop("checked",!0)})},hideAllItems:function(){t.elements.main.find(".checklistWrapper").each(function(e){$(this).find(".checkbox").parent().removeClass("checkboxHighlight"),$(this).find(".checklistText").addClass("hiddenChecklistText"),$(this).find(".checklistText").hide(),$(this).find('input[type="checkbox"]').prop("checked",!1)})},toggleActive:function(e){e.find(".checklistText").hasClass("hiddenChecklistText")?(e.find(".checkbox").parent().addClass("checkboxHighlight"),e.find('input[type="checkbox"]').prop("checked",!0)):(e.find(".checkbox").parent().removeClass("checkboxHighlight"),e.find('input[type="checkbox"]').prop("checked",!1))},toggleText:function(e){var n=e.data("num");t.elements.main.find(".checklistText").each(function(e){$(this).data("num")==n&&($(this).hasClass("hiddenChecklistText")?($(this).hide(),$(this).toggleClass("hiddenChecklistText"),$(this).fadeIn()):$(this).fadeOut(function(){$(this).toggleClass("hiddenChecklistText")}))}),e.parent().parent().find(".textWrapper").focus()},changeScrRdrTextBox:function(e){var n=e.data("num");t.elements.main.find(".checklistText").each(function(e){$(this).data("num")==n&&t.elements.ariaTextBox.html($(this).text())})},setHeight:function(){t.elements.main.find(".textWrapper").each(function(e){t.elements.main.find(".checklist-static-text").eq(e).css("height","auto"),$(this).css("height","auto"),$(this).parent().css("height","auto");var n=0,s=Number($(this).css("height").split("px")[0]),i=Number(t.elements.main.find(".checklist-static-text").eq(e).css("height").split("px")[0]);s>=i&&s>=n?n=s:i>=s&&i>=n&&(n=i),t.elements.main.find(".checklist-static-text").eq(e).css("height",n),$(this).css("height",n),$(this).parent().css("height",n)})}};return this.each(function(){t.elements={},t.elements.main=$(this),1==t.insidePanel?t.elements.main.addClass("row checklistContainer"):t.elements.main.addClass("checklistContainer"),n.init(this)})},jQuery.fn.activityMatching=function(e){var t=$.extend({},{mode:"dropDowns",title:"Activity",icon:"tqi-activity",instructions:'Select the correct answer from each dropdown, click the "Check" button to test your answers',feedback:"Congratulations, you've completed the activity. Click the reset button below to start again.",randomiseQuestions:!0,randomiseAnswers:!0,backgroundImage:!1,backgroundPosition:"left",textColor:!1,textShadow:!1,iconFeedback:!0,highlightRows:!1},e),n={init:function(){n.createElements(),n.buildWrappers(),n.buildCounter(),n.checkCssChanges(),n.buildShell(),n.addEventListeners()},createElements:function(){1==t.insidePanel?(t.elements.headerRow=$("<div class='maHeaderBg maHeaderBgInsidePanel'>"),t.elements.headings=$("<div class='maHeadingContainer maHeadingContainerInsidePanel'><div class='maHeadingDiv pull-left'><p class='maHeading'>"+t.columns[0].columnHeading+"</p></div><div class='maHeadingDiv pull-right'><p class='maHeading'>"+t.columns[1].columnHeading+"</p></div><div class='clearfix maHeadingBorder'></div></div></div>"),t.elements.shell=$("<div class='maQuestionWrapper maQuestionWrapperInsidePanel'></div>"),t.elements.footerCol=$("<div><div class='maFooter maFooterInsidePanel col-md-12'></div>"),t.elements.feedbackContainer=$("<div class='maFeedbackContainer maFeedbackContainerInsidePanel'></div>")):(t.elements.headerRow=$("<div class='maHeaderBg'>"),t.elements.headings=$("<div class='maHeadingContainer'><div class='maHeadingDiv pull-left'><p class='maHeading'>"+t.columns[0].columnHeading+"</p></div><div class='maHeadingDiv pull-right'><p class='maHeading'>"+t.columns[1].columnHeading+"</p></div><div class='clearfix maHeadingBorder'></div></div></div>"),t.elements.shell=$("<div class='maQuestionWrapper'></div>"),t.elements.footerCol=$("<div><div class='maFooter'></div>"),t.elements.feedbackContainer=$("<div class='maFeedbackContainer'></div>")),t.elements.wrap=$("<div>"),t.elements.header=$("<div class='maHeader'><i class='tqi "+t.icon+" tqi-2x tq-panel-icon pull-left'></i><h3 class='panel-title'> "+t.title+"</h3></div>"),t.elements.instructions=$("<p tabindex='0' class='mA-instructions'>"+t.instructions+"</p>"),t.elements.questionsWrap=$("<div></div>"),t.elements.qWrap=$("<div class='clearfix'>"),t.elements.footerRow=$("<div class='row'></div>"),t.elements.footerContainer=$("<div class='row'><div class='footerBG'></div></div>"),t.elements.countContainer=$("<div tabindex='0' class='maCountContainer'></div>"),t.elements.correctCount=$("<p class='maCorrectCount'></p>"),t.elements.incorrectCount=$("<p class='maIncorrectCount'></p>"),t.elements.button=$("<button class='btn maFeedbackBtn btn-default'>"),t.elements.resetButton=$("<button class='btn maResetBtn btn-default'>")},buildWrappers:function(){t.elements.main.append(t.elements.wrap),t.elements.wrap.append(t.elements.headerRow),t.elements.headerRow.append(t.elements.header),t.elements.headerRow.append(t.elements.countContainer),t.elements.headerRow.append(t.elements.instructions),t.elements.headerRow.append($("<div class='clearfix'>")),t.elements.wrap.append(t.elements.headings),t.elements.wrap.append(t.elements.questionsWrap)},buildCounter:function(){t.elements.correctCount.html("Correct: 0"),t.elements.incorrectCount.html("Incorrect: 0"),t.elements.button.html("Check Answers <i class='fa fa fa-question-circle'></i>"),t.elements.countContainer.append(t.elements.correctCount),t.elements.countContainer.append(t.elements.incorrectCount),t.elements.footerCol.children().append(t.elements.button),t.elements.footerCol.children().append($("<div class='clearfix'>"))},checkCssChanges:function(){t.textColor&&t.elements.questionsWrap.css("color",t.textColor),t.textShadow&&t.elements.questionsWrap.css("text-shadow",t.textShadow),t.backgroundImage&&t.elements.questionsWrap.css("background","url('"+t.backgroundImage+"') no-repeat"),t.backgroundPosition&&t.elements.questionsWrap.css("background-position",t.backgroundPosition)},buildShell:function(){var e,s=0;"dropDowns"==t.mode?e=1==t.insidePanel?$("<div><div class='questionBG questionBGInsidePanel'><div class='maQuestionDiv maQuestionDivInsidePanel col-xs-12 col-md-9'></div><div class='maQuestionDiv col-xs-12 col-md-3'></div></div></div>"):$("<div><div class='questionBG'><div class='maQuestionDiv col-xs-12 col-md-9'></div><div class='maQuestionDiv col-xs-12 col-md-3'></div></div></div>"):"leftRight"==t.mode&&(e=1==t.insidePanel?$("<div><div class='questionBG questionBGInsidePanel'><div class='maQuestionDiv maQuestionDivInsidePanel col-xs-12 col-md-6'></div><div class='maQuestionDiv col-xs-12 col-md-6'></div></div></div>"):$("<div><div class='questionBG'><div class='maQuestionDiv col-xs-12 col-md-6'></div><div class='maQuestionDiv col-xs-12 col-md-6'></div></div></div>"));if("dropDowns"==t.mode){s=t.questions.length;for(i=0;i<s;i++)t.elements.shell.append(e.clone().append($("<div class='clearfix maQuestionBorder'>")));n.buildDropDownsQuestions(s)}else if("leftRight"==t.mode){s=t.choices.length;for(var i=0;i<s;i++)t.elements.shell.append(e.clone().append($("<div class='clearfix maQuestionBorder'>")));n.buildLeftRightQuestions(s)}t.elements.questionsWrap.append(t.elements.shell),t.elements.shell.append(t.elements.footerCol)},buildDropDownsQuestions:function(e){for(var s=t.elements.shell.children().children().children(),i=[],a=[],l=0,r=0;r<e;r++)i[r]=$("<span tabindex='0'>"+t.questions[r].question+"</span>").attr("data-answer-index",r),a[r]=$("<option>"+t.questions[r].answer+"</option>").attr("data-answer-index",r);t.randomiseQuestions&&n.randomise(i),t.randomiseAnswers&&n.randomise(a);for(r=0;r<s.length;r++){var o=$("<label><select class='maDropDowns' data-num='"+l+"'></select></label>");if(o.children().append($("<option>Select Answer</option>")),r%2==0)$(s[r]).html(i[l]),l++;else{for(var c=0;c<e;c++)o.children().append(a[c]);$(s[r]).html(o.clone())}}t.elements.shell.append($("<div class='clearfix'>")),t.elements.shell.append(t.elements.footerCol)},buildLeftRightQuestions:function(e){for(var n=t.elements.shell.children().children().children(),s=[],i=0,a=0;a<e;a++)s[a]=t.choices[a].choice;$(n).each(function(e){e%2==0&&($(n[e]).addClass("maLeftRightDiv"),$(n[e]).html("<fieldset><legend class='sr-only'></legend><span tabindex='0' class='mobileRadio'>"+s[i]+"</span><div class='visible-sm visible-xs clear'></div><span class='mobileRadioHeading visible-sm visible-xs'>"+t.columns[0].columnHeading+"</span><label><p class='sr-only'>Select</p><input data-col-num='0' title='"+t.columns[0].columnHeading+"' data-num='"+i+"' class='leftRightSelector' type='checkbox' val="+t.choices[i].side+" name="+i+"></label></fieldset>"),$(n[e+1]).html("<fieldset><legend class='sr-only'></legend><span tabindex='0' class='mobileRadio mobileRadioHide'>"+s[i]+"</span><div class='visible-sm visible-xs clear'></div><span class='mobileRadioHeading visible-sm visible-xs'>"+t.columns[1].columnHeading+"</span><label><p class='sr-only'>Select</p><input data-col-num='1' title='"+t.columns[1].columnHeading+"' data-num='"+i+"' class='leftRightSelector' type='checkbox' val="+t.choices[i].side+" name="+i+"></label></fieldset>"),i++)}),t.elements.shell.append($("<div class='clearfix'>"))},addEventListeners:function(){t.elements.button.on("click",function(){t.elements.countContainer.focus(),t.elements.main.find($(".maFeedbackIcon")).remove(),"dropDowns"==t.mode&&n.checkDropDownsAnswers(),"leftRight"==t.mode&&n.checkLeftRightAnswers()}),t.elements.resetButton.on("click",function(){n.reset()})},checkDropDownsAnswers:function(){var e=[],s=[],i=0,a=0;t.elements.shell.find(".questionBG").children().each(function(t){t%2==0?(e[i]=$(this).children().data("answer-index"),i++):($(this).children().children().children().each(function(t){$(this).is(":selected")&&(s[a]=$(this).data("answer-index"),$(this).data("answer-index")==e[a]?$(this).parent().attr("title","This is Correct"):$(this).parent().attr("title","This is Incorrect"))}),a++)}),n.addFeedback(e,s)},checkLeftRightAnswers:function(){var e=t.elements.questionsWrap.find("input"),s=[],i=[],a=0;e.each(function(e){e%2==0&&(s[a]=0,i[a]=1,a++)}),e.each(function(t){t%2==0&&($(e[t]).is(":checked")&&$(e[t+1]).is(":checked")?(s[$(this).data("num")]=$(e[t]).attr("val"),i[$(this).data("num")]="both","both"==$(e[t]).attr("val")&&"both"==$(e[t+1]).attr("val")?($(e[t]).attr("title","This is Correct."),$(e[t+1]).attr("title","This is Correct.")):($(e[t]).attr("title","This is Incorrect."),$(e[t+1]).attr("title","This is Incorrect."))):$(e[t]).is(":checked")?(s[$(this).data("num")]=$(e[t]).attr("val"),i[$(this).data("num")]="left","left"==$(e[t]).attr("val")?$(e[t]).attr("title","This is Correct."):$(e[t]).attr("title","This is Incorrect.")):$(e[t+1]).is(":checked")&&(s[$(this).data("num")]=$(e[t]).attr("val"),i[$(this).data("num")]="right","right"==$(e[t+1]).attr("val")?$(e[t+1]).attr("title","This is Correct."):$(e[t+1]).attr("title","This is Incorrect.")))}),n.addFeedback(s,i)},addFeedback:function(e,n){var s=0,i=0,a=[],l=0,r=$("<i class='maFeedbackIcon maIconIncorrect col-md-1 col-xs-1 fa fa-2x fa-times'></i>"),o=$("<i class='maFeedbackIcon maIconCorrect col-md-1 col-xs-1 fa fa-2x fa-check'></i>"),c=[];t.elements.main.find(".questionBG").each(function(e){a[l]=t.elements.shell.find(".questionBG").eq(e),l++});var d=t.elements.main.find(".maQuestionDiv");if(t.iconFeedback&&d.each(function(e){"dropDowns"==t.mode?e%2==0?($(this).removeClass("col-md-9"),$(this).addClass("col-md-8"),$(this).removeClass("col-xs-12"),$(this).addClass("col-xs-11")):($(this).removeClass("col-xs-12"),$(this).addClass("col-xs-11 col-xs-offset-1 col-md-offset-0")):"leftRight"==t.mode&&(e%2==0?($(this).removeClass("col-md-6"),$(this).addClass("col-md-5"),$(this).removeClass("col-xs-12"),$(this).addClass("col-xs-11")):($(this).removeClass("col-xs-12"),$(this).addClass("col-xs-11 col-xs-offset-1 col-md-offset-0")))}),$(e).each(function(l){e[l]==n[l]?(c[l]="Question"+(l+1)+" Correct",s++,t.highlightRows&&$(a[l]).parent().css("background-color","#288511"),t.iconFeedback&&$(a[l]).first().prepend(o.clone())):(c[l]="Question"+(l+1)+" Incorrect",i++,t.highlightRows&&$(a[l]).parent().css("background-color","#cc3300"),t.iconFeedback&&$(a[l]).first().prepend(r.clone()))}),t.elements.correctCount.html("Correct: "+s),t.elements.incorrectCount.html("Incorrect: "+i),s==e.length){var m=t.elements.footerCol.detach();t.elements.headings.remove(),t.elements.questionsWrap.html(t.elements.feedbackContainer),t.elements.feedbackContainer.html("<p><b>"+t.feedback+"</b></p>"),t.elements.feedbackContainer.append(m),t.elements.footerCol.find(t.elements.button).remove(),t.elements.resetButton.html("Reset <i class='fa fa-refresh'></i>"),t.elements.footerCol.children().append(t.elements.resetButton),t.elements.feedbackContainer.append($("<div class='clearfix'>"))}},reset:function(){t.elements.wrap.remove(),n.init()},randomise:function(e){for(var t,n,s=e.length;s;t=parseInt(Math.random()*s),n=e[--s],e[s]=e[t],e[t]=n);return e}};return this.each(function(){t.elements={},t.elements.main=$(this),$(this).addClass("matchingActivity"),$(this).parent().addClass("matchingPanel"),n.init(this)})},jQuery.fn.quiz=function(e){var t=$.extend({},{selectedAnswerArr:[],selectedCorrectArr:[],correctAnswerArr:[],icon:"tqi-activity",title:"Activity",instructions:"Please complete the question(s) below.",advanceOnIncorrect:!0,displayCorrectAnswerInFeedback:!0,currentQuestion:1,correctCounter:0,partialCounter:0,showBackButton:!1,showReviewButton:!0,finishMessageTitle:"You're finished!",nextQuestionFeedback:"Click on the 'Next' button to start the next question.",finalQuestionFeedback:"Click on the 'Next' button to finish the quiz."},e),n={init:function(){n.createReusableElements(),n.createHeaderElements(),n.createBodyElements(),n.createHeader(),n.createBody(),n.createQuestion(),n.updateProgressBar(),n.bindEvents()},createReusableElements:function(){t.elements.clearfix=$('<div class="clearfix"></div>')},createHeaderElements:function(){t.elements.headerTitleIconWrapper=$('<div class="header-col-wrap col-xs-12 col-lg-8 col-md-8 col-sm-6">'),t.elements.headerIcon=$('<i aria-hidden="true" class="tqi '+t.icon+' tqi-2x tq-panel-icon pull-left"></i>'),t.elements.headerTitle=$("<h3>"+t.title+"</h3>"),t.elements.headerInstructions=$("<p>"+t.instructions+"</p>"),t.elements.headerProgressColWrapper=$('<div class="header-col-wrap col-xs-12 col-lg-4 col-md-4 col-sm-6">'),t.elements.headerProgressBarWrapper=$('<div class="quiz-header-progress-bar progress">'),t.elements.headerProgressBar=$('<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">'),t.elements.headerProgressText=$('<span class="quiz-progress-bar">40%</span>'),t.elements.headerProgressBarSr=$('<span class="sr-only">0% Complete (success)</span>'),t.insidePanel?(t.elements.header=$('<div class="quiz-header-ip">'),t.elements.headerCounter=$('<div class="quiz-header-counter-ip hidden-xs"></div>')):(t.elements.header=$('<div class="quiz-header">'),t.elements.headerCounter=$('<span class="quiz-header-progress-counter">'))},createBodyElements:function(){t.elements.bodyQuestionWrapper=$('<div class="quiz-body-question-wrapper"></div>'),t.elements.bodyFeedback=$('<div class="quiz-body-feedback-wrapper"></div>'),t.elements.bodyCorrectFeedback=$('<div class="alert alert-success" role="alert"></div>'),t.elements.bodyIncorrectFeedback=$('<div class="alert alert-danger" role="alert"></div>'),t.elements.bodyInfoFeedback=$('<div class="alert alert-info" role="alert"></div>'),t.elements.bodyAlertFeedback=$('<div class="alert alert-warning" role="alert"></div>'),t.elements.bodyCheckBtn=$('<button class="col-md-4 col-lg-4 col-sm-6 col-xs-12 pull-right quiz-check-btn btn btn-default">Check Answer <i class="fa fa fa-question-circle"></i></button>'),t.elements.bodyResetBtn=$('<button class="col-md-2 col-lg-2 col-sm-12 col-xs-12 pull-right quiz-reset-btn btn btn-default">Reset <i class="fa fa-refresh"></i></button>'),t.elements.bodyReviewBtn=$('<button class="col-md-2 col-lg-2 col-sm-12 col-xs-12 pull-left quiz-review-btn btn btn-default">Review <i class="fa fa-paperclip"></i></button>'),t.elements.bodyBtnGroup=$('<div class="col-md-4 col-lg-4 col-sm-6 col-xs-12 pull-right btn-group body-next-prev-wrapper" role="group"></div>'),t.showBackButton?(t.elements.bodyPrevBtn=$('<button type="button" class="quiz-prev-button btn btn-default body-next-prev-duo"><i class="fa fa-chevron-left"></i> Prev</button>'),t.elements.bodyNextBtn=$('<button type="button" class="quiz-next-button btn btn-default body-next-prev-duo">Next <i class="fa fa-chevron-right"></i></button>')):(t.elements.bodyPrevBtn=$('<button type="button" class="quiz-prev-button btn btn-default"><i class="fa fa-chevron-left"></i> Prev</button>'),t.elements.bodyNextBtn=$('<button type="button" class="quiz-next-button btn btn-default body-next-prev-solo">Next <i class="fa fa-chevron-right"></i></button>')),t.insidePanel?t.elements.body=$('<div class="quiz-body-ip">'):t.elements.body=$('<div class="quiz-body">')},createHeader:function(){t.elements.main.append(t.elements.header),t.insidePanel?(t.elements.header.append(t.elements.headerProgressColWrapper),t.elements.headerProgressColWrapper.append(n.createProgressBar()),t.elements.header.append(t.elements.clearfix),t.elements.header.append(t.elements.headerInstructions)):(t.elements.header.append(t.elements.headerTitleIconWrapper),t.elements.headerTitleIconWrapper.append(t.elements.headerIcon),t.elements.headerTitleIconWrapper.append(t.elements.headerTitle),t.elements.header.append(t.elements.headerProgressColWrapper),t.elements.headerProgressColWrapper.append(n.createProgressBar()),t.elements.header.append(t.elements.clearfix),t.elements.header.append(t.elements.headerInstructions))},createProgressBar:function(){return t.elements.headerProgressBarWrapper.append(t.elements.headerProgressBar),t.elements.headerProgressBar.append(t.elements.headerCounter),t.elements.headerProgressBar.append(t.elements.headerProgressBarSr),t.elements.headerProgressBarWrapper},createBody:function(){t.elements.main.append(t.elements.body),t.elements.body.append(t.elements.bodyQuestionWrapper),t.elements.body.append(t.elements.bodyFeedback),t.elements.body.append(t.elements.bodyCheckBtn),t.elements.body.append(t.elements.bodyBtnGroup.hide()),t.showBackButton&&t.elements.bodyBtnGroup.append(t.elements.bodyPrevBtn),t.elements.bodyBtnGroup.append(t.elements.bodyNextBtn),t.elements.body.append(t.elements.clearfix.clone())},createQuestion:function(){t.elements.main.find(".quiz-body-feedback-wrapper").removeAttr("tabindex"),t.elements.main.find(".quiz-body-question-wrapper").html(""),t.elements.bodyQuestionWrapper.append($('<p class="quiz-body-question" tabindex="0">'+n.createQuestionInstructions()+"</p>")),t.elements.bodyQuestionWrapper.append($(n.createQuestions()+"</div>"))},updateProgressBar:function(){var e=t.currentQuestion/t.questions.length*100;t.elements.headerProgressBarSr.html(e+"% complete"),t.elements.headerProgressBar.attr("aria-valuenow",e),t.elements.headerProgressBar.css("width",e+"%"),t.elements.headerCounter.html("<b>"+t.currentQuestion+"</b> / "+t.questions.length)},createQuestionInstructions:function(){return t.questions[t.currentQuestion-1].question},createQuestions:function(){return"multi"==t.questions[t.currentQuestion-1].type?n.createMulti():"tick"==t.questions[t.currentQuestion-1].type?n.createTick():"textentry"==t.questions[t.currentQuestion-1].type?n.createText():"cloze"==t.questions[t.currentQuestion-1].type?n.createCloze():"matching"==t.questions[t.currentQuestion-1].type?n.createMatching():void 0},createMulti:function(){var e=[],n=t.questions[t.currentQuestion-1];e.push("<fieldset><legend></legend>");for(var s=0;s<n.answers.length;s++)n.answers[s].correct?(e.push('<label class="quiz-body-multi-label">'),e.push('<input data-correct="true" type="radio" name="'+t.elements.main.attr("id")+'-radio"> '+n.answers[s].answer),e.push("</label>")):(e.push('<label class="quiz-body-multi-label">'),e.push('<input type="radio" name="'+t.elements.main.attr("id")+'-radio"> '+n.answers[s].answer),e.push("</label>"));return e.push("</fieldset>"),e.join(" ")},createTick:function(){var e=[],n=t.questions[t.currentQuestion-1];e.push("<fieldset><legend></legend>");for(var s=0;s<n.answers.length;s++)n.answers[s].correct?(e.push('<label class="quiz-body-tick-label">'),e.push('<input data-correct="true" type="checkbox" name="'+t.elements.main.attr("id")+'-tick"> '+n.answers[s].answer),e.push("</label>")):(e.push('<label class="quiz-body-tick-label">'),e.push('<input type="checkbox" name="'+t.elements.main.attr("id")+'-tick"> '+n.answers[s].answer),e.push("</label>"));return e.push("</fieldset>"),e.join(" ")},createText:function(){var e=[];return e.push("<fieldset>"),e.push("<legend></legend>"),e.push('<label class="quiz-body-text-label">'),e.push('<p class="sr-only">Please enter your answer in the text area below.</p>'),e.push("<textarea></textarea>"),e.push("</label>"),e.push("</fieldset>"),e.push('<div class="quiz-body-text-alert alert alert-warning" role="alert"><i class="fa fa-2x fa-sticky-note"></i><h3>Note</h3><div class="clearfix"></div><p>This question type is not marked and will not appear in the final results. Please compare your answer to the model response provided after clicking the \'Check Answer\' button.</p></div>'),e.join(" ")},createCloze:function(){var e=[],s=t.questions[t.currentQuestion-1],i=n.getClozeAnswers(s.answers[0].answer);return e.push("<fieldset><legend></legend>"),e.push(i),e.push("</fieldset>"),e.join(" ")},createMatching:function(){var e=[],s=t.questions[t.currentQuestion-1],i=n.buildMatching(s.answers);return e.push("<fieldset><legend></legend>"),void 0!=s.headings&&(e.push('<div class="quiz-matching-headings hidden-sm hidden-xs">'),e.push('<p class="pull-left"><b>'+s.headings.left+"</b></p>"),e.push('<p class="pull-right"><b>'+s.headings.right+"</b></p>"),e.push('<div class="clearfix"></div></div>')),e.push(i),e.push("</fieldset>"),e.join(" ")},buildMatching:function(e){for(var t=[],s=0;s<e.length;s++){var i=n.getMatchingSelect(e,s);t.push('<div class="quiz-matching-question-wrapper">'),t.push('<div class="row">'),t.push('<div class="col-xs-12 col-md-9">'+e[s].question+"</div>"),t.push('<div class="quiz-matching-select col-xs-12 col-md-3">'+i+"</div>"),t.push('<div class="clearfix"></div>'),t.push("</div>"),t.push("</div>")}return t},getMatchingSelect:function(e,t){for(var s=[],i=0;i<e.length;i++)i==t?s.push('<option data-correct="true">'+e[i].answer+"</option>"):s.push("<option>"+e[i].answer+"</option>");return n.shuffle(s),s.unshift("<option>-- Select --</option>"),s.unshift('<label><select name="cloze">'),s.push("</select></label>"),s},getClozeAnswers:function(e){var t=e,s=[];$.each(t.split(""),function(e,t){"["==t&&s.push(e+1),"]"==t&&s.push(e)});for(var i=[],a=0;a<s.length;a+=2)i.push(t.substring(s[a],s[a+1]));for(var l=[],r=[],o=[],a=0;a<i.length;a++)$.each(i[a].split(""),function(e,t){if(","==t)return l.push("multi"),o.push(n.splitMulti(i[a])),!1;""==i[a].charAt(e+1)&&(l.push("single"),r.push(i[a]))});return n.buildCloze(t,s,l,r,o)},splitMulti:function(e){for(var t=e.split(","),n=0;n<t.length;n++)t[n]=t[n].replace(/^\s*/,"").replace(/\s*$/,"");return t},buildCloze:function(e,t,s,i,a){if(a.length>0)var l=n.buildMultiCloze(a);if(i.length>0)var r=n.buildSingleCloze(i);return n.insertClozeAnswers(l,r,e,t,s)},buildMultiCloze:function(e){var t=[];return $(e).each(function(s){for(var i=[],a=0;a<$(this).length;a++){var l=e[s][a];-1==l.indexOf("*")?i.push("<option>"+l+"</option>"):i.push('<option data-correct="true">'+l.replace(/\*/g,"")+"</option>")}n.shuffle(i),i.unshift("<option>-- Select --</option>"),i.unshift('<label><select name="cloze">'),i.push("</select></label>"),t.push(i)}),t},buildSingleCloze:function(e){for(var t=[],s=0;s<e.length;s++)t.push('<option data-correct="'+s+'">'+e[s]+"</option>");return n.shuffle(t),t.unshift("<option>-- Select --</option>"),t.unshift('<label><select class="single-select" name="cloze">'),t.push("</select></label>"),t},insertClozeAnswers:function(e,t,n,s,i){for(var a=[],l=[],r=[],o=0;o<s.length;o++)o%2==0?l.push(s[o]):r.push(s[o]);for(var c=0,o=0;o<i.length;o++)"single"==i[o]?a.push(t):"multi"==i[o]&&(a.push(e[c]),c++);for(var d=[],o=0;o<s.length/2;o++)0==o?(d.push(n.substring(0,l[o]-1)),d.push(a[0])):(d.push(n.substring(r[o-1]+1,l[o]-1)),d.push(a[o])),o+1>=s.length/2&&d.push(n.substring(r[o]+1));return d.join(" ")},bindEvents:function(){t.elements.bodyCheckBtn.on("click",function(){n.checkAnswer()}),t.elements.bodyNextBtn.on("click",function(){n.nextQuestion()}),t.elements.bodyPrevBtn.on("click",function(){n.prevQuestion()}),t.elements.bodyResetBtn.on("click",function(){n.reset()}),t.elements.bodyReviewBtn.on("click",function(){n.review()})},checkAnswer:function(){"multi"==t.questions[t.currentQuestion-1].type&&n.checkMulti(),"tick"==t.questions[t.currentQuestion-1].type&&n.checkTick(),"textentry"==t.questions[t.currentQuestion-1].type&&n.checkText(),"cloze"!=t.questions[t.currentQuestion-1].type&&"matching"!=t.questions[t.currentQuestion-1].type||n.checkCloze()},checkMulti:function(){t.questions[t.currentQuestion-1];t.elements.main.find(".quiz-body-multi-label").each(function(e){return $(this).children().is(":checked")&&$(this).children().data("correct")?(t.selectedAnswerArr.push("<p>"+$(this).text().trim()+"</p>"),t.selectedCorrectArr.push("<p>"+$(this).text().trim()+"</p>"),t.correctCounter++,n.appendCorrectFeedback($(this).index()),t.elements.main.find(".quiz-check-btn").hide(),t.elements.bodyBtnGroup.show(),$(this).parent().find("input").attr("disabled",!0),!1):$(this).children().is(":checked")&&!$(this).children().data("correct")?(t.selectedAnswerArr.push("<p>"+$(this).text().trim()+"</p>"),t.selectedCorrectArr.push("<p>"+$($(this).parent().find("input[data-correct=true]").parent()).text()+"</p>"),n.appendIncorrectFeedback($(this).index()),t.advanceOnIncorrect&&($(this).parent().find("input").attr("disabled",!0),t.elements.main.find(".quiz-check-btn").hide(),t.elements.bodyBtnGroup.show()),!1):void n.appendAlertFeedback()})},checkTick:function(){for(var e=t.questions[t.currentQuestion-1],s=0,i=0,a=0,l=[],r=[],o=0;o<e.answers.length;o++)e.answers[o].correct&&(r.push("<p>"+e.answers[o].answer+"</p>"),s++);if(t.elements.main.find(".quiz-body-tick-label").each(function(e){$(this).children().is(":checked")&&$(this).children().data("correct")?(l.push("<p>"+$(this).text().trim()+"</p>"),i++,a++):$(this).children().is(":checked")&&!$(this).children().data("correct")&&(l.push("<p>"+$(this).text().trim()+"</p>"),a++)}),i==s&&i==a)t.selectedAnswerArr.push(l),t.selectedCorrectArr.push(r.join("")),t.correctCounter++,n.appendCorrectFeedback(),t.elements.main.find(".quiz-check-btn").hide(),t.elements.bodyBtnGroup.show(),t.elements.main.find(".quiz-body-tick-label").children().attr("disabled",!0);else if(i!=s&&a>0||i==s&&a>i){t.selectedAnswerArr.push(l),t.selectedCorrectArr.push(r.join(""));var c=i/s;t.partialCounter+=Math.ceil(10*c)/10,n.appendIncorrectFeedback(),t.advanceOnIncorrect&&(t.elements.main.find(".quiz-check-btn").hide(),t.elements.bodyBtnGroup.show(),t.elements.main.find(".quiz-body-tick-label").children().attr("disabled",!0))}else n.appendAlertFeedback()},checkText:function(){0==t.elements.main.find(".quiz-body-text-label").find("textarea").val().length?n.appendAlertFeedback(!0):(n.appendTextentryFeedback(),t.selectedAnswerArr.push("<p>"+t.elements.main.find(".quiz-body-text-label").find("textarea").val()+"</p>"),t.selectedCorrectArr.push("<p>"+t.questions[t.currentQuestion-1].answers[0].answer+"</p>"),t.correctAnswerArr.push("<p>"+t.questions[t.currentQuestion-1].answers[0].answer+"</p>"),t.elements.main.find(".quiz-check-btn").hide(),t.elements.bodyBtnGroup.show(),t.elements.main.find("textarea").attr("disabled",!0))},checkCloze:function(){t.questions[t.currentQuestion-1];var e=!1,s=!0,i=[],e=[];if(t.elements.main.find(".quiz-body-question-wrapper").find("select").each(function(e){"-- Select --"==$(this).find(":selected")[0].value?$(this).addClass("quiz-unselected"):$(this).removeClass("quiz-unselected")}),0==t.elements.main.find(".quiz-unselected").length&&(s=!1),!s){var a=0,l=0,r=t.elements.main.find(".quiz-body-question-wrapper").find("select").length;t.elements.main.find(".quiz-body-question-wrapper").find("select").each(function(t){if($(this).hasClass("single-select")){if($(this).find(":selected").data("correct")!=a)return e=!1,!1;e=!0,l++,a++}else{if(!$(this).find(":selected").data("correct"))return e=!1,!1;e=!0,l++}})}i=[],correctArr=[];var o=0;if(t.elements.main.find("select").each(function(e){i.push("<p><b>"+(e+1)+":</b> "+$(this).val()+"</p>"),$(this).hasClass("single-select")?(correctArr.push("<p><b>"+(e+1)+":</b> "+$(this).find("option[data-correct="+o+"]").val()+"</p>"),o++):correctArr.push("<p><b>"+(e+1)+":</b> "+$(this).find("option[data-correct=true]").val()+"</p>")}),s)n.appendAlertFeedback();else if(e)t.selectedAnswerArr.push(i),t.selectedCorrectArr.push(correctArr.join("")),t.correctCounter++,n.appendCorrectFeedback(),t.elements.main.find(".quiz-check-btn").hide(),t.elements.bodyBtnGroup.show(),t.elements.main.find(".quiz-body-question-wrapper").find("select").attr("disabled",!0);else{t.selectedAnswerArr.push(i),t.selectedCorrectArr.push("Incorrect");var c=l/r;t.partialCounter+=Math.ceil(10*c)/10,n.appendIncorrectFeedback(),t.advanceOnIncorrect&&(t.elements.main.find(".quiz-body-question-wrapper").find("select").attr("disabled",!0),t.elements.main.find(".quiz-check-btn").hide(),t.elements.bodyBtnGroup.show())}},appendCorrectFeedback:function(e){t.elements.main.find(".quiz-body-question").removeAttr("tabindex"),t.elements.main.find(".quiz-body-feedback-wrapper").attr("tabindex","0");var s=t.questions[t.currentQuestion-1];t.elements.bodyFeedback.html(""),t.elements.bodyCorrectFeedback.html("").hide(),"multi"==s.type&&void 0!=s.answers[e-1].feedback?(t.elements.bodyFeedback.append(t.elements.bodyCorrectFeedback),t.elements.bodyCorrectFeedback.append('<i class="fa fa-2x fa-check-circle"></i><h3>Correct</h3><div class="clearfix"></div>'),t.displayCorrectAnswerInFeedback&&t.elements.bodyCorrectFeedback.append(n.injectAnswer()),t.elements.bodyCorrectFeedback.append("<p>"+s.answers[e-1].feedback+"</p>"),t.currentQuestion<t.questions.length?t.elements.bodyCorrectFeedback.append('<hr/><p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyCorrectFeedback.append('<hr/><p class="small">'+t.finalQuestionFeedback+"</p>")):void 0!=s.feedback&&void 0!=s.feedback.correct&&0!=s.feedback.correct.length?(t.elements.bodyFeedback.append(t.elements.bodyCorrectFeedback),t.elements.bodyCorrectFeedback.append('<i class="fa fa-2x fa-check-circle"></i><h3>Correct</h3><div class="clearfix"></div>'),t.displayCorrectAnswerInFeedback&&t.elements.bodyCorrectFeedback.append(n.injectAnswer()),t.elements.bodyCorrectFeedback.append("<p>"+s.feedback.correct+"</p>"),t.currentQuestion<t.questions.length?t.elements.bodyCorrectFeedback.append('<hr/><p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyCorrectFeedback.append('<hr/><p class="small">'+t.finalQuestionFeedback+"</p>")):void 0!=s.feedback&&void 0!=s.feedback.generic&&0!=s.feedback.generic.length?n.appendGenericFeedback(!0):(t.elements.bodyFeedback.append(t.elements.bodyCorrectFeedback),t.elements.bodyCorrectFeedback.append('<i class="fa fa-2x fa-check-circle"></i><h3>Correct</h3><div class="clearfix"></div>'),t.displayCorrectAnswerInFeedback&&t.elements.bodyCorrectFeedback.append(n.injectAnswer()),t.currentQuestion<t.questions.length?t.elements.bodyCorrectFeedback.append('<hr/><p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyCorrectFeedback.append('<hr/><p class="small">'+t.finalQuestionFeedback+"</p>")),t.elements.bodyCorrectFeedback.fadeIn({queue:!1,duration:300})},appendIncorrectFeedback:function(e){t.elements.main.find(".quiz-body-question").removeAttr("tabindex"),t.elements.main.find(".quiz-body-feedback-wrapper").attr("tabindex","0");var s=t.questions[t.currentQuestion-1];t.elements.bodyFeedback.html(""),t.elements.bodyIncorrectFeedback.html("").hide(),"multi"==s.type&&void 0!=s.answers[e-1].feedback?(t.elements.bodyFeedback.append(t.elements.bodyIncorrectFeedback),t.advanceOnIncorrect?(t.elements.bodyIncorrectFeedback.append('<i class="fa fa-2x fa-times-circle"></i><h3>Incorrect</h3><div class="clearfix">'),t.displayCorrectAnswerInFeedback&&t.elements.bodyIncorrectFeedback.append(n.injectAnswer()),t.elements.bodyIncorrectFeedback.append("<p>"+s.answers[e-1].feedback+"</p>"),t.currentQuestion<t.questions.length?t.elements.bodyIncorrectFeedback.append('<hr/><p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyIncorrectFeedback.append('<hr/><p class="small">'+t.finalQuestionFeedback+"</p>")):(t.elements.bodyIncorrectFeedback.append('<i class="fa fa-2x fa-times-circle"></i><h3>Incorrect - Try Again</h3><div class="clearfix">'),t.displayCorrectAnswerInFeedback&&t.elements.bodyIncorrectFeedback.append(n.injectAnswer()),t.elements.bodyIncorrectFeedback.append("<p>"+s.feedback.incorrect+"</p>"))):void 0!=s.feedback&&void 0!=s.feedback.incorrect&&0!=s.feedback.incorrect.length?(t.elements.bodyFeedback.append(t.elements.bodyIncorrectFeedback),t.advanceOnIncorrect?(t.elements.bodyIncorrectFeedback.append('<i class="fa fa-2x fa-times-circle"></i><h3>Incorrect</h3><div class="clearfix">'),t.displayCorrectAnswerInFeedback&&t.elements.bodyIncorrectFeedback.append(n.injectAnswer()),t.elements.bodyIncorrectFeedback.append("<p>"+s.feedback.incorrect+"</p>"),t.currentQuestion<t.questions.length?t.elements.bodyIncorrectFeedback.append('<hr/><p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyIncorrectFeedback.append('<hr/><p class="small">'+t.finalQuestionFeedback+"</p>")):(t.elements.bodyIncorrectFeedback.append('<i class="fa fa-2x fa-times-circle"></i><h3>Incorrect - Try Again</h3><div class="clearfix">'),t.displayCorrectAnswerInFeedback&&t.elements.bodyIncorrectFeedback.append(n.injectAnswer()),t.elements.bodyIncorrectFeedback.append("<p>"+s.feedback.incorrect+"</p>"))):void 0!=s.feedback&&void 0!=s.feedback.generic&&0!=s.feedback.generic.length?n.appendGenericFeedback(!1):(t.elements.bodyFeedback.append(t.elements.bodyIncorrectFeedback),t.advanceOnIncorrect?(t.elements.bodyIncorrectFeedback.append('<i class="fa fa-2x fa-times-circle"></i><h3>Incorrect</h3><div class="clearfix">'),t.displayCorrectAnswerInFeedback&&t.elements.bodyIncorrectFeedback.append(n.injectAnswer()),t.currentQuestion<t.questions.length?t.elements.bodyIncorrectFeedback.append('<hr/><p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyIncorrectFeedback.append('<hr/><p class="small">'+t.finalQuestionFeedback+"</p>")):(t.elements.bodyIncorrectFeedback.append('<i class="fa fa-2x fa-times-circle"></i><h3>Incorrect - Try Again</h3><div class="clearfix">'),t.displayCorrectAnswerInFeedback&&t.elements.bodyIncorrectFeedback.append(n.injectAnswer()))),t.elements.bodyIncorrectFeedback.fadeIn({queue:!1,duration:300})},appendGenericFeedback:function(e){t.elements.main.find(".quiz-body-question").removeAttr("tabindex"),t.elements.main.find(".quiz-body-feedback-wrapper").attr("tabindex","0");var s=t.questions[t.currentQuestion-1];t.elements.bodyFeedback.html(""),t.elements.bodyInfoFeedback.html("").removeClass("quiz-body-final-feedback").hide(),e?(t.elements.bodyFeedback.append(t.elements.bodyCorrectFeedback),t.elements.bodyCorrectFeedback.append('<i class="fa fa-2x fa-check-circle"></i><h3>Correct</h3><div class="clearfix"></div>'),t.displayCorrectAnswerInFeedback&&t.elements.bodyCorrectFeedback.append(n.injectAnswer())):(t.elements.bodyFeedback.append(t.elements.bodyIncorrectFeedback),t.elements.bodyIncorrectFeedback.append('<i class="fa fa-2x fa-times-circle"></i><h3>Incorrect</h3><div class="clearfix">'),t.displayCorrectAnswerInFeedback&&t.elements.bodyIncorrectFeedback.append(n.injectAnswer())),t.elements.bodyFeedback.append(t.elements.bodyInfoFeedback),t.elements.bodyInfoFeedback.append('<i class="fa fa-2x fa-comment"></i><h3>Feedback</h3><div class="clearfix"></div>'),t.elements.bodyInfoFeedback.append("<p>"+s.feedback.generic+"</p>"),t.currentQuestion<t.questions.length?t.elements.bodyInfoFeedback.append('<p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyInfoFeedback.append('<p class="small">'+t.finalQuestionFeedback+"</p>"),t.elements.bodyInfoFeedback.fadeIn({queue:!1,duration:300})},appendAlertFeedback:function(e){t.elements.bodyFeedback.html("").hide(),e?t.elements.bodyFeedback.append(t.elements.bodyAlertFeedback.html('<i class="fa fa-2x fa-exclamation-circle"></i><h3>Alert</h3><div class="clearfix"></div><p>Please enter an answer</p>')):t.elements.bodyFeedback.append(t.elements.bodyAlertFeedback.html('<i class="fa fa-2x fa-exclamation-circle"></i><h3>Alert</h3><div class="clearfix"></div><p>Please select an answer</p>')),t.elements.bodyFeedback.fadeIn({queue:!1,duration:300})},injectAnswer:function(){if("multi"==t.questions[t.currentQuestion-1].type||"tick"==t.questions[t.currentQuestion-1].type){for(var e=[],n=[],s="",i=0;i<t.questions[t.currentQuestion-1].answers.length;i++)t.questions[t.currentQuestion-1].answers[i].correct&&(n.push("<p>"+t.questions[t.currentQuestion-1].answers[i].answer+"</p>"),e.push(t.questions[t.currentQuestion-1].answers[i].answer));var a=(s=e.toString()).replace(/\,/g," and ");return t.correctAnswerArr.push(n.join("")),"<p>The answer was:</p><p>"+a+"</p>"}if("cloze"==t.questions[t.currentQuestion-1].type||"matching"==t.questions[t.currentQuestion-1].type){var l=[];l.push("<table class='quiz-body-feedback-table top-buffer table table-bordered table-striped'><thead><tr><th>Selected</th><th>Correct</th></tr></thead><tbody>");var r=0,n=[];return t.elements.main.find("select").each(function(e){if($(this).hasClass("single-select")){t=$(this).find("option[data-correct='"+r+"']").val();n.push("<p><b>"+(e+1)+":</b> "+t+"</p>"),r++}else{var t=$(this).find("option[data-correct='true']").val();n.push("<p><b>"+(e+1)+":</b> "+t+"</p>")}var s=$(this).val();l.push("<tr>"),t==s?l.push("<td><span>"+s+" <i class='fa fa-check fa-2x'></span></td>"):l.push("<td>"+s+" <i class='fa fa-times fa-2x'></td>"),l.push("<td>"+t+"</td>"),l.push("</tr>")}),t.correctAnswerArr.push(n.join("")),l.push("</tbody></table>"),l.join("")}},appendTextentryFeedback:function(){t.elements.main.find(".quiz-body-question").removeAttr("tabindex"),t.elements.main.find(".quiz-body-feedback-wrapper").attr("tabindex","0");var e=t.questions[t.currentQuestion-1];t.elements.bodyFeedback.html(""),t.elements.bodyInfoFeedback.html("").removeClass("quiz-body-final-feedback").hide(),t.elements.bodyFeedback.append(t.elements.bodyInfoFeedback),t.elements.bodyInfoFeedback.append('<i class="fa fa-2x fa-comment"></i><h3>Model response</h3><div class="clearfix"></div>'),t.elements.bodyInfoFeedback.append("<p>"+e.answers[0].answer+"</p>"),void 0!=e.feedback&&void 0!=e.feedback.generic&&t.elements.bodyInfoFeedback.append("<hr/><p>"+e.feedback.generic+"</p>"),t.currentQuestion<t.questions.length?t.elements.bodyInfoFeedback.append('<hr/><p class="small">'+t.nextQuestionFeedback+"</p>"):t.elements.bodyInfoFeedback.append('<p class="small">'+t.finalQuestionFeedback+"</p>"),t.elements.bodyInfoFeedback.fadeIn({queue:!1,duration:300})},nextQuestion:function(){t.currentQuestion!=t.questions.length?(t.currentQuestion++,t.elements.bodyFeedback.html(""),t.elements.main.find(".quiz-check-btn").show(),t.elements.bodyBtnGroup.hide(),n.updateProgressBar(),n.createQuestion()):(t.elements.bodyFeedback.html(""),t.elements.bodyResetBtn.insertBefore(t.elements.bodyCheckBtn),t.showReviewButton&&t.elements.bodyReviewBtn.insertBefore(t.elements.bodyCheckBtn),t.elements.bodyResetBtn.show(),t.showReviewButton&&t.elements.bodyReviewBtn.show(),t.elements.bodyCheckBtn.hide(),t.elements.bodyBtnGroup.hide(),n.finalFeedback())},prevQuestion:function(){t.currentQuestion--,t.elements.bodyFeedback.html(""),t.elements.main.find(".quiz-check-btn").removeAttr("disabled"),t.elements.main.find(".quiz-next-button").attr("disabled",!0),n.updateProgressBar(),n.createQuestion(),1==t.currentQuestion&&t.elements.main.find(".quiz-prev-button").attr("disabled",!0)},finalFeedback:function(){for(var e=t.correctCounter+t.partialCounter,n=t.questions.length,s=0;s<t.questions.length;s++)"textentry"==t.questions[s].type&&!n<=0&&n--;t.elements.bodyQuestionWrapper.html("").hide(),t.elements.bodyInfoFeedback.html("").hide(),t.elements.bodyFeedback.append(t.elements.bodyInfoFeedback.addClass("quiz-body-final-feedback")),t.elements.bodyInfoFeedback.append('<h3 class="text-center"><i class="fa fa-trophy"></i> '+t.finishMessageTitle+'</h3><div class="clearfix"></div>'),n>0&&t.elements.bodyInfoFeedback.append('<p class="text-center">You got <b>'+e.toFixed(1)+"</b> question(s) correct out of the total <b>"+n+"</b> markable question(s).</p>"),t.elements.bodyInfoFeedback.append('<p class="text-center">Click the review button below to review your selected answers.</p>'),t.elements.bodyInfoFeedback.append('<p class="text-center">Click on the reset button below to start the quiz again.</p>'),t.elements.bodyInfoFeedback.fadeIn({queue:!1,duration:300})},reset:function(){t.currentQuestion=1,t.correctCounter=0,t.partialCounter=0,t.elements.bodyResetBtn.hide(),t.elements.bodyReviewBtn.hide(),t.elements.bodyFeedback.html(""),t.elements.bodyQuestionWrapper.show(),t.elements.main.find(".quiz-check-btn").show(),t.elements.bodyBtnGroup.hide(),t.elements.bodyCheckBtn.show(),t.elements.bodyNextBtn.show(),t.showBackButton&&t.elements.bodyPrevBtn.show(),n.updateProgressBar(),n.createQuestion()},shuffle:function(e){for(var t,n,s=e.length;1!==s;)n=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[n],e[n]=t;return e},review:function(){t.elements.bodyReviewBtn.hide();t.elements.bodyFeedback.html("");var e=$("<table class='table-responsive table table-bordered table-striped'>"),n=$("<thead><tr><th scope='col' width='33.33%'>Question</th><th scope='col' width='33.33%'>Your Answers</th><th width='33.33%'>Correct Answers</th></thead>"),s=$("<tbody></tbody>"),i=$("<tr></tr>"),a=[];$(t.questions).each(function(e){var n=i.clone(),s=t.selectedAnswerArr[e];s[0].length>1&&(s=s.join("")),s==t.correctAnswerArr[e]?n.addClass("success"):"textentry"==t.questions[e].type?n.addClass("info"):n.addClass("danger"),n.append("<td><p><b>Q"+(e+1)+":</b> "+t.questions[e].question+"</p></td>"),n.append("<td>"+s+"</td>"),n.append("<td>"+t.correctAnswerArr[e]+"</td>"),a.push(n)}),e.append(n),e.append(s.append(a)),t.elements.bodyFeedback.html(e)}};return this.each(function(){t.elements={},t.elements.main=$(this),n.init(this)})},jQuery.fn.sortableList=function(e){var t=$.extend({},{title:"Activity",icon:"tqi-activity",instructions:"Instructions",mode:"keepCorrect",showHeadings:!0,swapDraggables:!1,shuffleAnswersButton:!1,singleRow:!1,shuffleDraggables:!0,shuffleStatics:!0,draggableCols:"4",staticCols:"8",doubleStatic:!1},e),n={init:function(){t.elements.header=$('<div class="sortable-panel-header">'),t.elements.headerTitleIconWrapper=$('<div class="header-col-wrap"></div>'),t.elements.headerIcon=$('<i aria-hidden="true" class="tqi '+t.icon+' tqi-2x tq-panel-icon pull-left"></i>'),t.elements.headerTitle=$("<h3>"+t.title+"</h3>"),t.elements.headerInstructions=$("<p>"+t.instructions+"</p>"),t.elements.wrapRow=$("<div>"),t.elements.mobileMessage=$("<div class='mobileMessage hidden-xs hidden-sm col-md-12 hidden-md hidden-lg'><h2>View this activity on a larger screen.</h2></div>"),t.elements.wrap=$("<div class='sortable-main-wrap'>"),t.elements.headerRow=$("<div>"),t.elements.headingRow=$("<div>"),t.elements.sortableRow=$("<div class='sortableRows'>"),t.elements.footerRow=$("<div class='footerRow'>"),t.elements.headings=$("<div class='sortable_headings'>"),1==t.singleRow?t.elements.draggables=$("<ul class='col-md-12 draggableObj'>"):t.elements.draggables=$("<ul class='sortableListUL col-xs-"+t.draggableCols+" col-sm-"+t.draggableCols+" col-md-"+t.draggableCols+" draggableObj'>"),t.elements.statics=$("<ul class='sortableListUL col-xs-"+t.staticCols+" col-sm-"+t.staticCols+" col-md-"+t.staticCols+" staticObj'>"),t.doubleStatic&&(t.elements.statics2=$("<ul class='sortableListUL col-xs-"+t.staticCols+" col-sm-"+t.staticCols+" col-md-"+t.staticCols+" staticObj'>")),t.elements.li=$('<li aria-live="assertive" aria-labelledby="ariaSortableScreenReader_'+t.elements.main.attr("id")+'" class="ui-state-default sortableListItem">'),t.elements.scrRdr=$("<div aria-live='assertive' class='sr-only ariaSortableScreenReader' id='ariaSortableScreenReader_"+t.elements.main.attr("id")+"'>"),t.elements.arrowContainer=$('<div class="sortableArrowContainer"></div>'),t.elements.upArrow=$('<i tabindex="0" aria-labelledby="ariaSortableScreenReader_'+t.elements.main.attr("id")+'" href="javascript:void(0)" class="fa sortableArrows sortableUpArrow fa-chevron-circle-up"></i>'),t.elements.downArrow=$('<i tabindex="0" aria-labelledby="ariaSortableScreenReader_'+t.elements.main.attr("id")+'" href="javascript:void(0)" class="fa sortableArrows sortableDownArrow fa-chevron-circle-down"></i>'),t.elements.feedbackContainer=$("<div class='col-md-8 feedbackContainer'>"),t.elements.buttonContainer=$("<div class='col-md-4 buttonContainer'>"),t.elements.shuffleButton=$("<button href='#"+t.elements.main.attr("id")+"' class='shuffleBtn sortableBtn btn btn-default'>Shuffle</button>"),t.elements.button=$("<button class='sortableBtn btn btn-default'>Check Answers</button>"),t.elements.resetButton=$("<a href='#"+t.elements.main.attr("id")+"' class='sortableBtn btn btn-default' aria-labelledby='ariaSortableScreenReader_"+t.elements.main.attr("id")+"' class='btn btn-default'>Reset</a>"),n.buildWrap(),n.buildInstructions(),1==t.showHeadings&&1!=t.singleRow&&n.buildHeadings(),n.buildListItems(),n.buildFooter(),n.addSortable(),n.bindEvents()},buildWrap:function(){t.elements.main.append(t.elements.header),t.elements.header.append(t.elements.headerTitleIconWrapper),t.elements.headerTitleIconWrapper.append(t.elements.headerIcon),t.elements.headerTitleIconWrapper.append(t.elements.headerTitle),t.elements.header.append($("<div class='clearfix'>")),t.elements.main.append(t.elements.wrapRow),t.elements.wrap.append(t.elements.scrRdr),t.elements.main.append(t.elements.mobileMessage),t.elements.wrapRow.append(t.elements.wrap)},buildInstructions:function(){t.elements.scrRdr.html("Tap the arrows or use your keyboard arrows to re-order items. Tap the check answers button to submit your answers."),t.elements.header.append($("<p aria-live='assertive' class='sortableInstructions' aria-labelledby='ariaSortableScreenReader_"+t.elements.main.attr("id")+"' tabindex='0'>"+t.instructions+"</p>"))},buildHeadings:function(){if(t.elements.wrap.append(t.elements.headingRow),t.doubleStatic)for(var e=2,s=0;s<3;s++)1==t.swapDraggables?(0==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("col-sm-"+t.staticCols+" col-md-"+t.staticCols+" col-xs-"+t.staticCols).html('<p class="sortableGrayBg"><b>'+t.headings[e].labelName+"</b></p>")),1==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("col-sm-"+t.staticCols+" col-md-"+t.staticCols+" col-xs-"+t.staticCols).html('<p class="sortableGrayBg"><b>'+t.headings[e].labelName+"</b></p>")),2==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("draggableHeading col-sm-"+t.draggableCols+" col-md-"+t.draggableCols+" col-xs-"+t.draggableCols).html('<p class="sortableGrayBg"><b>'+t.headings[e].labelName+"</b></p>")),e--):(0==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("draggableHeading col-sm-"+t.draggableCols+" col-xs-"+t.draggableCols+" col-md-"+t.draggableCols).html('<p class="sortableGrayBg"><b>'+t.headings[s].labelName+"</b></p>")),1==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("col-sm-"+t.staticCols+" col-xs-"+t.staticCols+" col-md-"+t.staticCols).html('<p class="sortableGrayBg"><b>'+t.headings[s].labelName+"</b></p>")),2==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("col-sm-"+t.staticCols+" col-xs-"+t.staticCols+" col-md-"+t.staticCols).html('<p class="sortableGrayBg"><b>'+t.headings[s].labelName+"</b></p>")));else for(var e=1,s=0;s<2;s++)1==t.swapDraggables?(0==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("col-sm-"+t.staticCols+" col-md-"+t.staticCols+" col-xs-"+t.staticCols).html('<p class="sortableGrayBg"><b>'+t.headings[e].labelName+"</b></p>")),1==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("draggableHeading col-sm-"+t.draggableCols+" col-md-"+t.draggableCols+" col-xs-"+t.draggableCols).html('<p class="sortableGrayBg"><b>'+t.headings[e].labelName+"</b></p>")),e--):(0==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("draggableHeading col-sm-"+t.draggableCols+" col-xs-"+t.draggableCols+" col-md-"+t.draggableCols).html('<p class="sortableGrayBg"><b>'+t.headings[s].labelName+"</b></p>")),1==s&&t.elements.headingRow.append(t.elements.headings.clone().addClass("col-sm-"+t.staticCols+" col-xs-"+t.staticCols+" col-md-"+t.staticCols).html('<p class="sortableGrayBg"><b>'+t.headings[s].labelName+"</b></p>")));if(1!=t.singleRow){var i=t.elements.main.find(".sortable_headings").children();i.css("height",n.getLargestHeight($(i[0]),$(i[1])))}},buildListItems:function(){1==t.singleRow?t.elements.wrap.append(t.elements.sortableRow.append(t.elements.draggables)):t.doubleStatic?1==t.swapDraggables?t.elements.wrap.append(t.elements.sortableRow.append(t.elements.statics).append(t.elements.statics2).append(t.elements.draggables)):t.elements.wrap.append(t.elements.sortableRow.append(t.elements.draggables).append(t.elements.statics).append(t.elements.statics2)):1==t.swapDraggables?t.elements.wrap.append(t.elements.sortableRow.append(t.elements.statics).append(t.elements.draggables)):t.elements.wrap.append(t.elements.sortableRow.append(t.elements.draggables).append(t.elements.statics));var e=[],s=[];if(t.doubleStatic)var i=[];for(a=0;a<t.items.length;a++)e[a]=a,s[a]=a;t.shuffleAnswersButton||(1==t.shuffleDraggables&&(e=n.shuffle(e)),1==t.shuffleStatics?(s=n.shuffle(s),t.doubleStatic&&(i=s)):i=s);for(var a=0;a<t.items.length;a++)t.elements.draggables.append(t.elements.li.clone().addClass("sortableDraggableItem sortableDraggableItemBG").html("<span>"+t.items[e[a]].labelName+"</span>").attr("data-num",t.items[e[a]].rowMatch).attr("tabindex","0")),1!=t.singleRow&&(t.elements.statics.append(t.elements.li.clone().addClass("sortableGrayBg").html(t.rows[s[a]].rowContents).addClass("sortableStaticItem").attr("data-num",s[a]+1)),t.doubleStatic&&t.elements.statics2.append(t.elements.li.clone().addClass("sortableGrayBg").html(t.rows[i[a]].rowContents2).addClass("sortableStaticItem").attr("data-num",i[a]+1)));1!=t.singleRow&&n.adjustItemHeight(),t.elements.main.find(".sortableDraggableItem").each(function(e){$(this).append(t.elements.arrowContainer.clone().append(t.elements.upArrow.clone()).append(t.elements.downArrow.clone()))}),t.shuffleAnswersButton&&t.elements.main.find(".sortableDraggableItem").addClass("disableThis")},buildFooter:function(){t.elements.wrap.append(t.elements.footerRow),t.elements.footerRow.append(t.elements.feedbackContainer),t.elements.footerRow.append(t.elements.buttonContainer),t.shuffleAnswersButton?t.elements.buttonContainer.append(t.elements.shuffleButton):t.elements.buttonContainer.append(t.elements.button),t.elements.wrap.append($("<div class='clearfix'>"))},addSortable:function(){t.elements.main.find(".draggableObj").sortable({axis:"y",stack:".draggableObj li",containment:t.elements.main,tolerance:"pointer",cancel:".disableThis",start:function(e,n){t.elements.main.find(".draggableObj li").each(function(e){$(this).removeClass("draggableItemHighlight alert alert-info").addClass("sortableDraggableItemBG")}),n.item.addClass("draggableItemHighlight alert alert-info").removeClass("sortableDraggableItemBG"),$(".disableThis",this).each(function(){var e=$(this);e.data("pos",e.index())})},change:function(e,t){$sortable=$(this),$statics=$(".disableThis",this).detach(),$helper=$("<li></li>").prependTo(this),$statics.each(function(){var e=$(this),t=e.data("pos");e.insertAfter($("li",$sortable).eq(t))}),$helper.remove()},stop:function(){1!=t.singleRow&&n.adjustItemHeight()}}).disableSelection()},bindEvents:function(){t.elements.main.find(".shuffleBtn").on("click",function(){t.shuffleAnswersButton=!1,t.shuffleDraggables=!0,t.shuffleStatics=!1,n.resetPlugin(),t.shuffleAnswersButton=!0}),t.elements.main.find(".sortableDraggableItem").on("click",function(){$(this).focus()}),t.elements.button.on("click",function(){n.checkAnswers()}),t.elements.resetButton.on("click",function(){n.resetPlugin()}),t.elements.main.find(".sortableUpArrow").click(function(){n.keyboardInput(38,$(this).parent().parent())}),t.elements.main.find(".sortableDownArrow").on("click",function(){n.keyboardInput(40,$(this).parent().parent())}),t.elements.main.find(".draggableObj li").keydown(function(e){n.keyboardInput(e,$(this))}),window.addEventListener("keydown",function(e){var t=$(":focus");[32,37,38,39,40].indexOf(e.which)>-1&&t.hasClass("sortableDraggableItem")&&e.preventDefault()},!1),t.elements.main.find(".draggableObj li").focus(function(){$(this).hasClass("disableThis")?$.noop:(t.elements.main.find(".draggableObj li").each(function(e){$(this).removeClass("draggableItemHighlight alert alert-info").addClass("sortableDraggableItemBG")}),$(this).addClass("draggableItemHighlight alert alert-info").removeClass("sortableDraggableItemBG"))}),$(window).resize(function(){if(1!=t.singleRow){var e=t.elements.main.find(".sortable_headings").children();e.css("height","auto"),e.css("height",n.getLargestHeight(e.eq(0),e.eq(1)))}n.adjustItemHeight()})},bindScreenReader:function(){var e=$(":focus");n.changeScrReaderText(e,e[0].attributes[5].value)},keyboardInput:function(e,s){var i=[],a=0;if(t.elements.main.find(".draggableObj li").each(function(e){$(this).hasClass("sortableIncorrectItem")&&(i[a]=$(this).index(),a++)}),40!=e.which&&83!=e.which&&40!=e||1==s.hasClass("disableThis")){if((38==e.which||87==e.which||38==e)&&1!=s.hasClass("disableThis"))if(s.prev().hasClass("sortableCorrectItem")){for(l=s.index();l>=0;l--)if(s.parent().children().eq(l).hasClass("sortableIncorrectItem"))for(r=l-1;r>=0;r--)if(i.indexOf(r)>-1)return s.parent().children().eq(r).insertBefore(s.parent().children().eq(l)),s.parent().children().eq(l).insertBefore(s.parent().children().eq(r)),s.parent().children().eq(r).focus(),n.adjustItemHeight(),!1}else s.prev().before(s),s.focus(),n.adjustItemHeight()}else if(s.next().hasClass("sortableCorrectItem")){for(var l=s.index();l<t.items.length;l++)if(s.parent().children().eq(l).hasClass("sortableIncorrectItem"))for(var r=l+1;r<t.items.length;r++)if(i.indexOf(r)>-1)return s.parent().children().eq(r).insertAfter(s.parent().children().eq(l)),s.parent().children().eq(l).insertAfter(s.parent().children().eq(r)),s.parent().children().eq(r).focus(),n.adjustItemHeight(),!1}else s.next().after(s),s.focus(),n.adjustItemHeight();n.bindScreenReader()},checkAnswers:function(){var e=[],s=[],i=!1,a=0;t.elements.main.find(".draggableObj li").each(function(t){e[t]=$(this).data("num"),$(this).removeClass("draggableItemHighlight alert alert-info").addClass("sortableDraggableItemBG")}),t.elements.main.find(".staticObj li").each(function(e){s[e]=$(this).data("num")});for(var l=0;l<e.length;l++)e[l]==s[l]||e[l]==l+1&&1==t.singleRow?(a++,"reset"==t.mode?(t.elements.main.find('.draggableObj li[data-num="'+e[l]+'"]').removeClass("sortableIncorrectItem").addClass("sortableCorrectItem"),t.elements.main.find(".draggableObj li").addClass("disableThis"),t.elements.buttonContainer.html("").append(t.elements.resetButton),n.bindEvents()):"keepCorrect"==t.mode&&t.elements.main.find('.draggableObj li[data-num="'+e[l]+'"]').removeAttr("tabindex").addClass("disableThis").removeClass("sortableIncorrectItem").addClass("sortableCorrectItem")):"reset"==t.mode?(t.elements.main.find('.draggableObj li[data-num="'+e[l]+'"]').removeClass("sortableCorrectItem").addClass("sortableIncorrectItem"),t.elements.main.find(".draggableObj li").addClass("disableThis").removeAttr("tabindex"),t.elements.main.find(".sortableArrows").addClass("disableThis").removeAttr("tabindex"),t.elements.buttonContainer.html("").append(t.elements.resetButton),n.bindEvents()):"keepCorrect"==t.mode&&t.elements.main.find('.draggableObj li[data-num="'+e[l]+'"]').removeClass("disableThis sortableCorrectItem").addClass("sortableIncorrectItem");a==e.length?(i=!0,t.elements.buttonContainer.html("").append(t.elements.resetButton),t.elements.scrRdr.html("Correct, click the reset button below to try again."),n.bindEvents()):a!=e.length&&"reset"==t.mode?t.elements.scrRdr.html("Incorrect, click the reset button below to try again."):t.elements.scrRdr.html("Some items are still incorrect, keep trying."),$(t.elements.main.find(".sortableInstructions")).focus(),n.addFeedback(i)},addFeedback:function(e){1==e?t.elements.feedbackContainer.html("<p><b>"+t.feedback.correct+"</b></p>"):t.elements.feedbackContainer.html("<p><b>"+t.feedback.incorrect+"</b></p>")},changeScrReaderText:function(e,n){var s=t.elements.main.find(".sortableStaticItem"),i=e.text()+", Match with: "+s.eq(n).text();t.elements.scrRdr.html(i)},resetPlugin:function(){t.elements.main.html(""),n.init()},adjustItemHeight:function(){var e=t.elements.main.find(".draggableObj li"),n=t.elements.main.find(".staticObj li");e.each(function(e){$(this).attr("data-item",e)}),n.each(function(e){$(this).attr("data-item",e)});var s=[];e.each(function(e){s.push($(this))}),n.each(function(e){s.push($(this))});var i=0;t.elements.main.find(".draggableObj li").css("height","auto"),t.elements.main.find(".staticObj li").css("height","auto"),$(s).each(function(e){$(this)[0].scrollHeight>i&&(i=$(this)[0].scrollHeight)}),t.elements.main.find(".draggableObj li").css("height",i),t.elements.main.find(".staticObj li").css("height",i)},getLargestHeight:function(e,t){return e[0].clientHeight>t[0].clientHeight?e[0].clientHeight:t[0].clientHeight},shuffle:function(e){for(var t,n,s=e.length;s;t=parseInt(Math.random()*s),n=e[--s],e[s]=e[t],e[t]=n);return e}};return this.each(function(){t.elements={},t.elements.main=$(this),$(this).addClass("col-md-12"),n.init(this)})},jQuery.fn.zoomPan=function(e){var t=$.extend({},{maxWidth:"600px",scaleMax:3,scaleMin:1,scale:1,mouseX:0,mouseY:0,trigger:"middle"},e),n={init:function(){n.createElements(),n.buildElements(),n.bindHammerEvents(),n.bindClickEvents(),n.bindScrollEvents(),n.bindMouseOverEvents()},createElements:function(){t.elements.imageContainer=$("<div aria-hidden='true' class='zoomPanImgContainer'>"),t.elements.image=$("<img class='img-responsive zoomPanImg' src="+t.image+">"),t.elements.image.attr("id",t.elements.main.attr("id")+"_image"),t.elements.imageAttribution=$("<div aria-hidden='true' class='col-md-12 imageAttribution'><p></p></div>"),t.elements.zoomInBtn=$('<button class="btn btn-primary zoomBtn zoomInBtn">+</button>'),t.elements.zoomOutBtn=$('<button class="btn btn-primary zoomBtn zoomOutBtn">-</button>'),t.elements.scrRdrDiv=$("<div class='sr-only'>")},buildElements:function(){t.elements.main.append(t.elements.imageContainer),t.elements.imageContainer.append(t.elements.image),t.elements.main.append(t.elements.imageAttribution),t.elements.imageAttribution.children().html("Image: "+t.attribution),t.elements.image.load(function(){t.elements.imageContainer.css("maxWidth",t.maxWidth),t.elements.imageAttribution.children().css("maxWidth",t.maxWidth)}),t.elements.imageContainer.append(t.elements.zoomInBtn),t.elements.imageContainer.append(t.elements.zoomOutBtn),t.altText&&(t.elements.main.append(t.elements.scrRdrDiv),t.elements.scrRdrDiv.html(t.altText))},bindHammerEvents:function(){var e=t.elements.main.attr("id"),s=document.getElementById(e+"_image"),i=new Hammer.Manager(s,{recognizers:[[Hammer.Rotate],[Hammer.Tap,{taps:2}],[Hammer.Pinch,{enable:!0},["rotate"]]]});i.on("pinchin",function(e){n.zoomOut(!0)}),i.on("pinchout",function(e){n.zoomIn(!0)}),i.on("tap",function(e){n.zoomIn()})},bindClickEvents:function(){t.elements.zoomInBtn.on("click",function(){t.trigger="middle",n.zoomIn()}),t.elements.zoomOutBtn.on("click",function(){t.trigger="middle",n.zoomOut()})},bindScrollEvents:function(){t.elements.image.bind("mousewheel",function(e){e.preventDefault(),e.originalEvent.deltaY<0||e.originalEvent.wheelDelta>0?n.zoomIn():(e.originalEvent.deltaY>0||e.originalEvent.wheelDelta<0)&&n.zoomOut()}),t.elements.image.bind("wheel",function(e){e.preventDefault(),e.originalEvent.deltaY<0||e.originalEvent.wheelDelta>0?n.zoomIn():(e.originalEvent.deltaY>0||e.originalEvent.wheelDelta<0)&&n.zoomOut()})},bindMouseOverEvents:function(){t.elements.imageContainer.hover(function(){$(this).addClass("isHover")},function(){$(this).removeClass("isHover")}),t.elements.imageContainer.bind("mousemove",function(e){void 0==e.offsetX?t.mouseX=e.originalEvent.layerX:t.mouseX=e.offsetX,void 0==e.offsetY?t.mouseY=e.originalEvent.layerY:t.mouseY=e.offsetY,n.closestTrigger()})},addDraggable:function(){var e=t.elements.image.innerWidth(),n=t.elements.image.innerHeight(),s=t.elements.imageContainer.innerWidth(),i=t.elements.imageContainer.innerHeight(),a=Math.round((e*t.scale-s)/2),l=Math.round((n*t.scale-i)/2),r="-"+a,o="-"+l;t.elements.image.draggable({drag:function(e,t){t.position.top>=l&&(t.position.top=l),t.position.left>=a&&(t.position.left=a),t.position.top<=o&&(t.position.top=o),t.position.left<=r&&(t.position.left=r)}})},zoomIn:function(e){if(t.scale>=t.scaleMax)return!1;t.scale+=1==e?.15:.6,n.zoomAnimate()},zoomOut:function(e){if(t.scale<=t.scaleMin)return!1;t.scale-=1==e?.15:.6,n.zoomAnimate()},zoomAnimate:function(){function e(e,s){t.elements.image.animate({scale:t.scale,left:e,top:s,complete:n.addDraggable()},{duration:500,queue:!1,ease:"easeinout"})}var s=t.elements.image.innerWidth(),i=t.elements.image.innerHeight(),a=t.elements.imageContainer.innerWidth(),l=t.elements.imageContainer.innerHeight(),r=Math.round((s*t.scale-a)/2),o=Math.round((i*t.scale-l)/2),c=Math.round("-"+r),d=Math.round("-"+o);"middle"==t.trigger?e(0,0):"topLeft"==t.trigger?e(r,o):"bottomRight"==t.trigger?e(c,d):"bottomLeft"==t.trigger?e(r,d):"topRight"==t.trigger&&e(c,o)},closestTrigger:function(){var e=t.mouseX,n=t.mouseY,s=t.elements.imageContainer.width(),i=t.elements.imageContainer.height(),a=s/2,l=i/2;s-e<s-150&&s-e>150&&i-n<i-150&&i-n>150?t.trigger="middle":s-e>a&&i-n>l?t.trigger="topLeft":s-e<a&&i-n>l?t.trigger="topRight":s-e>a&&i-n<l?t.trigger="bottomLeft":s-e<a&&i-n<l&&(t.trigger="bottomRight")}};return this.each(function(){t.elements={},t.elements.main=$(this),n.init(this)})},jQuery.fn.dragDrop=function(e){var t=$.extend({},{icon:"tqi-activity",title:"Activity",instructions:"Drag and drop the draggable items into their correct buckets.",revert:!0,revertDuration:200,snap:".dragDropBucket",snapMode:"both",keepCorrectDropItem:!1,highlightBucketOnDrop:!1,disableBucketOnCorrectDrop:!1,randomiseDraggableItems:!0,randomiseBuckets:!1,hoverClass:"dragDropHoverClass",tolerance:"pointer",iconFeedback:!0,backgroundFeedback:!0,feedback:"Congratulations, you've completed the activity. Click the reset button below to play again!",incorrectFeedback:"You got some answers incorrect, try again.",allCorrectMode:!0,enablePagination:!1,dropCount:0,paginationItems:[],paginationPage:1},e),n={init:function(e){n.createElements(e),1!=e&&n.createHeader(),n.createDraggables(),n.createBuckets(),t.extras&&n.createExtras(),n.applyCSS(),n.addContent(),n.addClearFix(),n.addDragDrop(),n.bindEvents(),n.bindScrRdrEvents(),"freeform"!=t.mode&&n.setBucketDimensions(),t.enablePagination&&n.paginationSetup()},createElements:function(e){t.elements.header=$('<div class="drag-drop-header">'),t.elements.headerTitleIconWrapper=$('<div class="header-col-wrap"></div>'),t.elements.headerIcon=$('<i aria-hidden="true" class="tqi '+t.icon+' tqi-2x tq-panel-icon pull-left"></i>'),t.elements.headerTitle=$("<h3>"+t.title+"</h3>"),t.elements.headerInstructions=$("<p>"+t.instructions+"</p>"),t.elements.wrap=$("<div class='col-md-12 col-sm-12 col-xs-12 dragDropActivity'>"),t.elements.draggableWrapper=$("<div class='col-xs-6 col-sm-3 col-md-3 dragDropVcenter'>"),t.elements.draggable=$("<div role='group' aria-labelledby='dragDropScrRdr_"+t.elements.main.attr("id")+"'' tabindex='0' class='not-moved dragDropItem'>"),t.elements.itemClear=$("<div class='dragDropClear'>"),t.elements.bucketWrapper=$("<div class='col-xs-3 col-sm-3 col-md-3 dragDropVcenter'>"),t.elements.bucket=$("<div role='group' aria-labelledby='dragDropScrRdr_"+t.elements.main.attr("id")+"'' tabindex='0' class='dragDropBucket'>"),t.elements.extra=$("<div aria-labelledby='dragDropScrRdr_"+t.elements.main.attr("id")+"'' tabindex='0' class='dragDropExtra'>"),t.elements.popUp=$("<div class='dragDropOverlay'><div role='group' aria-labelledby='dragDropScrRdr_"+t.elements.main.attr("id")+"'' tabindex='0' class='well dragDropPromptBox'><button class='dragDropResetBtn btn btn-default'>Reset</button></div></div>"),t.elements.freeformWrap=$("<div class='dragDropFreeFormWrap'>"),t.elements.freeFormImage=$("<img class='dragDropImage img-responsive'>"),t.elements.randomColorArrayLength=54,t.elements.randomColorArray=n.getColors(),t.elements.scrRdr=$("<div role='group' aria-live='assertive' class='sr-only' id='dragDropScrRdr_"+t.elements.main.attr("id")+"'>"),1==e?(t.elements.header.hide(),t.elements.wrap.hide(),t.elements.main.append(t.elements.header),t.elements.main.append(t.elements.wrap),t.elements.wrap.fadeIn(),t.elements.header.fadeIn()):(t.elements.main.append(t.elements.header),t.elements.main.append(t.elements.wrap))},getColors:function(){for(var e=[],n=1;n<=t.elements.randomColorArrayLength;n++)e[n]="dragDropRandomColor"+n;return e},createHeader:function(){t.elements.header.append(t.elements.headerTitleIconWrapper),t.elements.headerTitleIconWrapper.append(t.elements.headerIcon),t.elements.headerTitleIconWrapper.append(t.elements.headerTitle),t.elements.header.append($('<div class="clearfix"></div>')),t.elements.header.append("<p aria-labelledby='dragDropScrRdr_"+t.elements.main.attr("id")+"'' tabindex='0' class='dragDropInstructions'>"+t.instructions+"</p>")},createDraggables:function(){if(1==t.randomiseDraggableItems&&n.randomise(t.items),"freeform"==t.mode){t.elements.wrap.append(t.elements.freeformWrap);for(e=0;e<t.items.length;e++)t.elements.freeformWrap.append(t.elements.draggable.clone().attr("data-bucket",t.items[e].bucketMatch))}else{for(var e=0;e<t.items.length;e++)t.elements.wrap.append(t.elements.draggableWrapper.clone().append(t.elements.draggable.clone().attr("data-bucket",t.items[e].bucketMatch)));t.elements.wrap.append(t.elements.itemClear),n.adjustCols(t.items.length,".dragDropItem")}},createBuckets:function(){if(1==t.randomiseBuckets&&n.randomise(t.buckets),"freeform"==t.mode){t.elements.wrap.append(t.elements.freeformWrap);for(e=0;e<t.buckets.length;e++)t.elements.freeformWrap.append(t.elements.bucket.clone().attr("data-bucket",e+1))}else{t.elements.wrap.append($("<div class='clearfix'></div><div class='drag-drop-bucket-margin'></div>"));for(var e=0;e<t.buckets.length;e++)t.elements.wrap.append(t.elements.bucketWrapper.clone().append(t.elements.bucket.clone().attr("data-bucket",e+1)));n.adjustCols(t.buckets.length,".dragDropBucket")}},createExtras:function(){if("freeform"==t.mode)for(e=0;e<t.extras.length;e++)t.elements.freeformWrap.append(t.elements.extra.clone());else for(var e=0;e<t.extras.length;e++)t.elements.wrap.append(t.elements.extra.clone())},applyCSS:function(){n.shuffle(t.elements.randomColorArray),t.elements.main.find(".dragDropItem").each(function(e){$(this).addClass(t.elements.randomColorArray[e+1])}),t.elements.main.find(".dragDropItem").each(function(e){void 0!=t.items[e].css&&"freeform"!=t.mode&&$(this).css(t.items[e].css),void 0!=t.items[e].css&&"freeform"==t.mode&&$(this).css(t.items[e].css).css("position","absolute")}),t.elements.main.find(".dragDropBucket").each(function(e){void 0!=t.buckets[e].css&&"freeform"!=t.mode&&$(this).css(t.buckets[e].css),void 0!=t.buckets[e].css&&"freeform"==t.mode&&$(this).css(t.buckets[e].css).css("position","absolute")}),t.elements.main.find(".dragDropExtra").each(function(e){void 0!=t.extras[e].css&&"freeform"!=t.mode&&$(this).css(t.extras[e].css),void 0!=t.extras[e].css&&"freeform"==t.mode&&$(this).css(t.extras[e].css).css("position","absolute")}),$(window).load(function(){"freeform"!=t.mode&&n.setBucketDimensions()}),"freeform"==t.mode&&t.elements.freeformWrap.css("width",t.freeformWidth).css("height",t.freeformHeight)},adjustCols:function(e,n){function s(e,t){e.removeClass("col-md-3 col-sm-3 col-xs-3"),e.addClass("col-md-"+t).addClass("col-sm-"+t).addClass("col-xs-12")}t.elements.main.find(n).parent().each(function(t){1==e?s($(this),12):2==e?s($(this),6):e%4==1?t==e-1||t==e-2?s($(this),6):t!=e-5&&t!=e-4&&t!=e-3||s($(this),4):e%4==2?t==e-1||t==e-2||t==e-3?s($(this),4):t!=e-6&&t!=e-5&&t!=e-4||s($(this),4):e%4==3&&(t!=e-1&&t!=e-2&&t!=e-3||s($(this),4))})},addContent:function(){function e(e,n){t.elements.main.find(e).each(function(e){void 0==n[e].image?($(this).html("<p>"+n[e].text+"</p>"),"freeform"!=t.mode&&$(this).addClass("dragDropBucketTweak")):($(this).removeClass("label label-default"),$(this).html($("<img alt='"+n[e].imageAlt+"' src='"+n[e].image+"'>").addClass("img-responsive")),$(this).addClass("dragDropBucketTweak"))})}e(".dragDropItem",t.items),e(".dragDropBucket",t.buckets),e(".dragDropExtra",t.extras)},addClearFix:function(){var e=0;!function(n){t.elements.main.find(n).each(function(n){e++;var s=$(this).parent()[0].className.split("col-md-")[1];void 0!=s&&(3==s[0]&&4==e||4==s[0]&&3==e||6==s[0]&&2==e)&&(t.elements.itemClear.clone().insertAfter($(this).parent()),e=0)})}(".dragDropItem")},addDragDrop:function(){t.elements.main.find(".dragDropItem").draggable({containment:t.elements.wrap,revert:t.revert,revertDuration:t.revertDuration,snapMode:t.snapMode,snap:t.snap,stack:".dragDropItem",drag:function(e,t){$(".dragDropItem").css("cursor","move")},stop:function(e,t){$(".dragDropItem").css("cursor","pointer")}}),t.elements.main.find(".dragDropBucket").droppable({hoverClass:t.hoverClass,tolerance:t.tolerance,drop:function(e,s){t.enablePagination&&$(s.draggable).hasClass("not-moved")&&(t.dropCount++,n.updatePagination()),$(s.draggable).removeClass("not-moved");var i=s.draggable.data("bucket"),a=$(this).data("bucket");i==a||i.length>1&&i.indexOf(a)>-1?(1==t.backgroundFeedback&&s.draggable.removeClass("dragDropIncorrectItem").addClass("dragDropCorrectItem"),1==t.iconFeedback&&s.draggable.removeClass("dragDropIncorrectItemIcon").addClass("dragDropCorrectItemIcon"),s.draggable.draggable("disable"),1==t.disableBucketOnCorrectDrop&&$(this).droppable("disable"),1==t.keepCorrectDropItem&&($(s.draggable).draggable({revert:!1}),$(s.draggable).offset($(this).offset())),1==t.highlightBucketOnDrop&&$(this).addClass("dragDropCorrectItem"),n.checkAnswers()):(1==t.backgroundFeedback&&s.draggable.removeClass("dragDropCorrectItem").addClass("dragDropIncorrectItem"),1==t.iconFeedback&&s.draggable.removeClass("dragDropCorrectItemIcon").addClass("dragDropIncorrectItemIcon"),1==t.highlightBucketOnDrop&&$(this).addClass("dragDropIncorrectItem"),n.checkAnswers())}})},checkAnswers:function(){var e=!1,s=!1,i=0;t.elements.main.find(".dragDropItem").each(function(n){if(t.allCorrectMode){if(!$(this).hasClass("dragDropCorrectItem")&&!$(this).hasClass("dragDropCorrectItemIcon"))return e=!1,!1;e=!0}else $(this).hasClass("not-moved")&&i++}),0==t.allCorrectMode&&0==i&&t.elements.main.find(".dragDropItem").each(function(t){if($(this).hasClass("dragDropIncorrectItemIcon")||$(this).hasClass("dragDropIncorrectItem"))return s=!0,e=!1,!1;($(this).hasClass("dragDropCorrectItemIcon")||$(this).hasClass("dragDropCorrectItem"))&&(e=!0,s=!1)}),t.elements.scrRdr.html("You selected the correct bucket, Well Done! Keep going, there is still more items."),e&&0==i&&(t.elements.main.find(".dragDropBucket").removeAttr("tabindex"),t.elements.popUp.hide(),t.elements.wrap.append(t.elements.popUp),t.elements.popUp.fadeIn(),t.elements.main.find(".dragDropResetBtn").parent().prepend("<p>"+t.feedback+"</p>"),t.elements.scrRdr.html("You got some answers incorrect, try again."),t.elements.main.find(".dragDropPromptBox").focus(),n.bindEvents()),!t.allCorrectMode&&0==i&&s&&(t.elements.main.find(".dragDropBucket").removeAttr("tabindex"),t.elements.popUp.hide(),t.elements.wrap.append(t.elements.popUp),t.elements.popUp.fadeIn(),t.elements.main.find(".dragDropResetBtn").parent().prepend("<p>"+t.incorrectFeedback+"</p>"),t.elements.scrRdr.html("Congratulations, you have completed the activity, click the tab key to locate the reset button and then click the enter key to reset the activity."),t.elements.main.find(".dragDropPromptBox").focus(),n.bindEvents())},bindEvents:function(){t.elements.main.find(".dragDropResetBtn").on("click",function(){n.resetDragDrop()}),$(window).resize(function(){"freeform"!=t.mode&&n.setBucketDimensions()}),t.elements.main.find(".dragDropItem").hover(function(){$(this).toggleClass("draggableItemHover")},function(){$(this).toggleClass("draggableItemHover")})},bindScrRdrEvents:function(){t.elements.wrap.append(t.elements.scrRdr),t.elements.scrRdr.html("This activity requires you to listen to what each each item is and select the correct bucket for that item, to navigate you way through this activity use your tab keys to select each item, click the enter key to then choose a bucket to drop the item in, when you are happy with the bucket click the enter key once more and you will be informed whether you selected the correct or incorrect bucket, Have fun!"),t.elements.main.find(".dragDropItem").focus(function(){$(this).hasClass("dragDropIncorrectItem")?t.elements.scrRdr.html("This item is incorrect, Click the enter key to select a bucket for, "+$(this).text()):t.elements.scrRdr.html("Click the enter key to select a bucket for, "+$(this).text())}),t.elements.main.find(".dragDropBucket").focus(function(){var e=t.elements.main.find(".scrRdrSelected");t.elements.scrRdr.html("Would you like to drop, "+e.text()+", into the, "+$(this).text()+" Bucket, Click the enter key to submit your answer.")}),t.elements.main.find(".dragDropItem").keydown(function(e){13==e.which&&(t.elements.main.find(".dragDropItem").removeClass("scrRdrSelected"),$(this).addClass("scrRdrSelected"),t.elements.main.find(".dragDropBucket")[0].focus())}),t.elements.main.find(".dragDropBucket").keydown(function(e){if(13==e.which){var s=t.elements.main.find(".scrRdrSelected");t.elements.main.find(".scrRdrSelected").data("bucket")==$(this).data("bucket")?(1==t.backgroundFeedback&&s.removeClass("dragDropIncorrectItem").addClass("dragDropCorrectItem"),1==t.iconFeedback&&s.removeClass("dragDropIncorrectItemIcon").addClass("dragDropCorrectItemIcon"),s.removeAttr("tabindex"),s.draggable("disable"),t.elements.main.find(".dragDropInstructions").focus(),n.checkAnswers()):(1==t.backgroundFeedback&&s.removeClass("dragDropCorrectItem").addClass("dragDropIncorrectItem"),1==t.iconFeedback&&s.removeClass("dragDropCorrectItemIcon").addClass("dragDropIncorrectItemIcon"),t.elements.scrRdr.html("You selected the incorrect bucket for that item, keep trying."),t.elements.main.find(".dragDropInstructions").focus(),n.checkAnswers())}})},setBucketDimensions:function(){t.elements.main.find(".dragDropBucket").each(function(){$(this).css("width","100%").css("height","auto"),$(this).css("width",$(this).width()).css("height",$(this).height())})},resetDragDrop:function(){t.elements.wrap.fadeOut(function(){t.enablePagination&&(t.paginationPage=1,t.paginationItems=[],t.dropCount=0),t.elements.header.remove(),t.elements.wrap.remove(),n.init(),t.elements.main.find(".dragDropInstructions").focus()})},randomise:function(e){for(var t,n,s=e.length;s;t=parseInt(Math.random()*s),n=e[--s],e[s]=e[t],e[t]=n);return e},shuffle:function(e){for(var t,n,s=e.length;1!==s;)n=Math.floor(Math.random()*s+1),t=e[s-=1],e[s]=e[n],e[n]=t;return e},paginationSetup:function(){t.elements.wrap.children().each(function(){if($(this).children().hasClass("dragDropItem"))t.paginationItems.push($(this));else if($(this).hasClass("dragDropClear"))$(this).remove();else if($(this).children().hasClass("dragDropBucket"))return $("<div class='dragDropClear'>").insertBefore($(this)),!1}),t.elements.wrap.prepend("<p class='dragdrop-pagination-txt' style='padding: 15px; padding-bottom: 0px; margin-bottom: 0px'>Page "+t.paginationPage+" of "+Math.ceil(t.paginationItems.length/4)+"</p>"),$.each(t.paginationItems,function(e){$(this).removeAttr("class"),$(this).addClass("col-xs-3 col-sm-3 col-md-3 dragDropVcenter"),e>=4&&$(this).hide()})},updatePagination:function(){if(t.dropCount%4==0){t.paginationPage++,t.elements.wrap.find(".dragdrop-pagination-txt").html("Page "+t.paginationPage+" of "+Math.ceil(t.paginationItems.length/4));var e=0;$.each(t.paginationItems,function(t){$(this).hasClass("usedItem")||("none"!=$(this).css("display")?($(this).hide(),$(this).addClass("usedItem")):e<4&&($(this).show(),e++))})}}};return this.each(function(){t.elements={},t.elements.main=$(this),n.init(this)})},jQuery.fn.tqTooltip=function(e){var t=$.extend({},{title:"",content:"",position:"top",animation:!0,delay:0,trigger:"click"},e),n={init:function(){n.createElements(),n.buildStage(),n.buildTriggers(),n.addAttributes(),n.keyboardAccessibility()},createElements:function(){t.elements.stage=$("<div class='tq-tooltip-stage'>"),t.elements.trigger=$("<i class='tq-tooltip-trigger'>"),t.elements.triggerStack=$("<span class='tq-tooltip-trigger'>")},buildStage:function(){t.elements.main.append(t.elements.stage),t.elements.stage.css(t.stage.css)},buildTriggers:function(){for(var e=0;e<t.tooltips.length;e++)void 0==t.tooltips[e].stackedClass?t.elements.stage.append(t.elements.trigger.clone().addClass(t.tooltips[e].triggerClass).css(t.tooltips[e].css)):t.elements.stage.append(t.elements.triggerStack.clone().addClass(t.tooltips[e].stackedWrapClass).append(t.elements.trigger.clone().removeClass("tq-tooltip-trigger").addClass(t.tooltips[e].stackedClass)).append(t.elements.trigger.clone().removeClass("tq-tooltip-trigger").addClass(t.tooltips[e].triggerClass)).css(t.tooltips[e].css))},addAttributes:function(){t.elements.main.find(".tq-tooltip-trigger").each(function(e){$(this).attr("data-html","true"),$(this).attr("tabindex","0"),$(this).attr("aria-label",t.tooltips[e].title+", "+t.tooltips[e].content),$(this).attr("title",t.tooltips[e].title),$(this).attr("data-content",t.tooltips[e].content),$(this).attr("data-placement",t.tooltips[e].position),1!=t.tooltips[e].animation&&$(this).attr("data-animation",t.tooltips[e].animation),t.tooltips[e].delay>0&&$(this).attr("data-delay",t.tooltips[e].delay),"click"!=t.tooltips[e].trigger&&$(this).attr("data-trigger",t.tooltips[e].trigger),$(this).popover()})},keyboardAccessibility:function(){t.elements.main.find(".tq-tooltip-trigger").on("keydown",function(e){13==e.which&&($($(this).popover()[0].nextSibling).hasClass("popover")?$.noop:(t.elements.main.find(".tq-tooltip-trigger").popover("hide"),$(this).popover("toggle")),n.addAttributes())})}};return this.each(function(){t.elements={},t.elements.main=$(this),n.init(this)})},jQuery.fn.showhide=function(options){var defaults={mode:"preset",position:"left",imageColBool:!1,imageCols:3,clickableCols:3,textBoxCols:9,instructions:"Click or tap on the triggers to learn more.",buttonClass:"btn-info",prefillTextbox:!1,customTextBox:!1,buttonHeight:"auto",instructionsInTextBox:!0,imageMap:!1},settings=$.extend({},defaults,options),methods={init:function(){methods.createElements(),methods.addContainerClasses(),methods.buildContainers(),methods.buildClickables(),settings.imageColBool&&methods.buildImage(),methods.addClickableAttributes(),methods.bindEvents(),methods.keyboardAccessibility(),methods.screenReaderUpdate(),settings.prefillTextbox&&methods.prefillTextbox(),"preset"==settings.mode&&methods.resizeButtons()},createElements:function(){settings.elements.xsSmCheck=$("<div class='sr-only visible-xs-block'>"),settings.elements.instructions=$("<p class='col-md-12 text-center'><b tabindex='0' aria-labelledby='showhide-screen-reader-"+settings.elements.main.attr("id")+"' class='showhide-instructions'>"+settings.instructions+"</b></p>"),settings.elements.imageContainer=$("<div class='showhide-image-container'>"),settings.elements.clickableContainer=$("<div class='showhide-clickable-container'>"),settings.elements.textBoxContainer=$("<div class='showhide-textbox-container'>"),settings.elements.textBox=$("<div class='showhide-textbox clearfix'>"),settings.elements.screenReader=$("<div aria-live='assertive' id='showhide-screen-reader-"+settings.elements.main.attr("id")+"' class='sr-only'>"),settings.elements.stage=$("<div class='showhide-stage'>"),settings.elements.trigger=$("<div class='showhide-trigger'>")},addContainerClasses:function(){"preset"==settings.mode?"left"==settings.position||"right"==settings.position?settings.imageColBool?(settings.elements.imageContainer.addClass("col-md-"+settings.imageCols+" col-sm-"+settings.imageCols+" col-xs-12"),settings.elements.clickableContainer.addClass("col-md-"+settings.clickableCols+" col-sm-"+settings.clickableCols+" col-xs-12"),settings.elements.textBoxContainer.addClass("col-md-"+settings.textBoxCols+" col-sm-"+settings.textBoxCols+" col-xs-12")):(settings.elements.clickableContainer.addClass("col-md-"+settings.clickableCols+" col-sm-"+settings.clickableCols+" col-xs-12"),settings.elements.textBoxContainer.addClass("col-md-"+settings.textBoxCols+" col-sm-"+settings.textBoxCols+" col-xs-12")):"top"!=settings.position&&"bottom"!=settings.position||settings.elements.textBoxContainer.addClass("col-md-12 col-sm-12 col-xs-12"):"custom"==settings.mode&&settings.elements.textBoxContainer.addClass("col-md-12 col-sm-12 col-xs-12")},buildContainers:function(){function e(){t.maphilight({fillColor:"FF7800",fillOpacity:.3,stroke:!1})}if(settings.elements.main.append(settings.elements.xsSmCheck),settings.elements.main.append(settings.elements.screenReader),settings.instructionsInTextBox||settings.elements.main.append(settings.elements.instructions),"preset"==settings.mode)"left"==settings.position?settings.imageColBool?(settings.elements.main.append(settings.elements.imageContainer),settings.elements.main.append(settings.elements.clickableContainer),settings.elements.main.append(settings.elements.textBoxContainer.append(settings.elements.textBox))):(settings.elements.main.append(settings.elements.clickableContainer),settings.elements.main.append(settings.elements.textBoxContainer.append(settings.elements.textBox))):"top"==settings.position?(settings.elements.main.append(settings.elements.clickableContainer),settings.elements.main.append(settings.elements.textBoxContainer.append(settings.elements.textBox))):"right"==settings.position?settings.imageColBool?(settings.elements.main.append(settings.elements.textBoxContainer.append(settings.elements.textBox)),settings.elements.main.append(settings.elements.clickableContainer),settings.elements.main.append(settings.elements.imageContainer)):(settings.elements.main.append(settings.elements.textBoxContainer.append(settings.elements.textBox)),settings.elements.main.append(settings.elements.clickableContainer)):"bottom"==settings.position&&(settings.elements.main.append(settings.elements.textBoxContainer.append(settings.elements.textBox)),settings.elements.main.append(settings.elements.clickableContainer));else if("custom"==settings.mode)if(settings.elements.main.append(settings.elements.stage),settings.customTextBox?(settings.elements.stage.append(settings.elements.textBox),settings.elements.textBox.addClass("show-hide-custom-text-box"),settings.elements.textBox.css(settings.customTextBoxCSS)):settings.elements.main.append(settings.elements.textBoxContainer.append(settings.elements.textBox)),settings.imageMap){var t=$("<img alt='' usemap='#Map-"+settings.elements.main.attr("id")+"' class='img-responsive show-hide-image-map'>");t.attr("src",settings.imageMapSrc),settings.elements.stage.append(t),methods.imageMap(),methods.bindImageMap(),t.rwdImageMaps(),e(),$(window).resize(function(){e()})}else settings.elements.stage.css(settings.stage.css);settings.instructionsInTextBox&&settings.elements.textBox.html(settings.elements.instructions)},imageMap:function(){var e=$('<map class="show-hide-map" name="Map-'+settings.elements.main.attr("id")+'" id="Map-'+settings.elements.main.attr("id")+'">'),t=[],n=[];$(settings.triggers).each(function(e){t.push(settings.triggers[e].coords)}),$(t).each(function(e){3==t[e].split(",").length?n.push($('<area data-content="'+settings.triggers[e].content+'" tabindex="0" class="show-hide-map-area" shape="circle" coords="'+t[e]+'" />')):n.push($('<area data-content="'+settings.triggers[e].content+'" tabindex="0" class="show-hide-map-area" shape="poly" coords="'+t[e]+'" />'))}),e.append(n),settings.elements.stage.append(e)},bindImageMap:function(){settings.elements.main.find(".show-hide-map-area").click(function(){settings.elements.textBox.html($(this).data("content"))}),settings.elements.main.find(".show-hide-map-area").focus(function(){$(this).mouseover(),$(this).blur(function(){$(this).mouseout()}),$(this).on("keydown",function(e){13==e.which&&(settings.elements.textBox.html($(this).data("content")),methods.screenReaderUpdate($(this).data("content")))})})},buildClickables:function(){if("preset"==settings.mode)for(var e=settings.elements.clickableContainer,t=0;t<settings.clickables.length;t++)if(void 0==settings.clickables[t].text){s=$("<div>");if(void 0==settings.clickables[t].imageAlt)n=$("<img alt=''>");else var n=$("<img alt='"+settings.clickables[t].imageAlt+"'>");s.attr("tabindex","-1"),s.addClass("col-md-"+settings.clickables[t].col+" col-sm-"+settings.clickables[t].col+" col-xs-"+settings.clickables[t].col),n.addClass("showhide-clickable showhide-clickable-img"),n.attr("tabindex","0"),n.attr("src",settings.clickables[t].image),n.addClass("img-responsive img-rounded"),s.append(n),e.append(s)}else if("left"==settings.position||"right"==settings.position){(i=$("<button>")).attr("tabindex","0"),i.addClass("showhide-clickable showhide-clickable-btn btn"),i.addClass(settings.buttonClass),i.addClass("col-md-"+settings.clickables[t].col+" col-sm-"+settings.clickables[t].col+" col-xs-12"),i.html(settings.clickables[t].text),i.css("height",settings.buttonHeight),e.append(i)}else{var s=$("<div>"),i=$("<button>");s.attr("tabindex","-1"),s.addClass("showhide-clickable col-md-"+settings.clickables[t].col+" col-sm-"+settings.clickables[t].col+" col-xs-12"),s.css("height",settings.buttonHeight),i.addClass("showhide-clickable-btn showhide-clickable btn"),i.addClass(settings.buttonClass),i.html(settings.clickables[t].text),s.append(i),e.append(s)}else if("custom"==settings.mode&&!settings.imageMap)for(t=0;t<settings.triggers.length;t++)settings.elements.stage.append(settings.elements.trigger.clone().attr("data-num",t))},buildImage:function(){void 0==settings.clickables[0].imageColAlt?settings.elements.imageContainer.append("<img tabindex='0' class='img-responsive img-rounded' alt='' src="+settings.clickables[0].imageColSrc+">"):settings.elements.imageContainer.append("<img tabindex='0' class='img-responsive img-rounded' alt='"+settings.clickables[0].imageColAlt+"' src="+settings.clickables[0].imageColSrc+">")},addClickableAttributes:function(){if("preset"==settings.mode){var e=settings.elements.clickableContainer;settings.elements.main.find(".showhide-clickable-btn").each(function(e){$(this).attr("data-content",settings.clickables[e].content),$(this).attr("data-num",e)}),settings.elements.main.find(".showhide-clickable-img").each(function(e){$(this).attr("data-content",settings.clickables[e].content),$(this).attr("data-num",e)}),e.children().attr("aria-labelledby","showhide-screen-reader-"+settings.elements.main.attr("id"))}else"custom"==settings.mode&&settings.elements.main.find(".showhide-trigger").each(function(e){$(this).css(settings.triggers[e].css),$(this).attr("data-content",settings.triggers[e].content),$(this).attr("tabindex","0"),$(this).attr("aria-labelledby","showhide-screen-reader-"+settings.elements.main.attr("id"))})},setTextBoxHeight:function(boo){function getHeight(boo,type){function setHeight(){settings.elements.textBox.html(originalContent),settings.elements.textBox.css("height",largest)}var largest=0,originalContent=settings.elements.textBox.html();settings.elements.textBox.css("height","auto");for(var i=0;i<eval("settings."+type+".length");i++)if(settings.elements.textBox.html(eval("settings."+type+"[i].content")),settings.elements.textBox.children().css("visibility","hidden"),void 0!=settings.elements.textBox.find("img").attr("src")&&0==boo){var current=i,image=new Image;image.src=settings.elements.textBox.find("img").attr("src"),image.onload=function(){settings.elements.textBox.css("height","auto"),settings.elements.textBox.html(eval("settings."+type+"[current].content")),settings.elements.textBox.innerHeight()>largest&&(largest=settings.elements.textBox.innerHeight()),setHeight()}}else settings.elements.textBox.innerHeight()>largest&&(largest=settings.elements.textBox.innerHeight());setHeight()}settings.elements.textBox.css("height","auto"),"preset"==settings.mode?("left"!=settings.position&&"right"!=settings.position||("block"==settings.elements.xsSmCheck.css("display")?(settings.elements.textBox.removeClass("showhide-textbox-leftright"),getHeight(boo)):(settings.elements.textBox.css("height",settings.elements.clickableContainer.height()-5),settings.elements.textBox.addClass("showhide-textbox-leftright"))),"top"!=settings.position&&"bottom"!=settings.position||getHeight(boo,"clickables")):"custom"==settings.mode&&getHeight(boo,"triggers")},bindEvents:function(){settings.elements.main.find(".showhide-clickable").on("click",function(){settings.elements.main.find(".showhide-clickable-btn").removeClass("selected"),$(this).children().addClass("selected"),$(this).addClass("selected"),settings.elements.textBox.html($(this).data("content")),methods.screenReaderUpdate($(this).data("content")),settings.imageColBool&&(settings.elements.imageContainer.children().attr("src",settings.clickables[$(this).data("num")].imageColSrc),settings.elements.imageContainer.children().attr("alt",settings.clickables[$(this).data("num")].imageColAlt))}),settings.elements.main.find(".showhide-trigger").on("click",function(){if(settings.elements.textBox.html($(this).data("content")),methods.screenReaderUpdate($(this).data("content")),void 0!=settings.triggers[$(this).data("num")].stageBgImg){var e=$(this);$('<img src="'+settings.triggers[$(this).data("num")].stageBgImg.split("url(")[1].split(")")[0]+'">').load(function(){settings.elements.stage.css("backgroundImage",settings.triggers[e.data("num")].stageBgImg)})}}),settings.elements.main.find(".showhide-instructions").on("focus",function(){methods.screenReaderUpdate("Navigate to each of the buttons and click on them to learn more.")}),settings.elements.main.find(".showhide-clickable").on("focus",function(){methods.screenReaderUpdate($(this).html())}),settings.elements.main.find(".showhide-trigger").on("focus",function(){methods.screenReaderUpdate("Click this to learn more")})},keyboardAccessibility:function(){settings.elements.main.find(".showhide-clickable").on("keydown",function(e){13==e.which&&(settings.elements.textBox.html($(this).data("content")),methods.screenReaderUpdate($(this).data("content")))}),settings.elements.main.find(".showhide-trigger").on("keydown",function(e){13==e.which&&(settings.elements.textBox.html($(this).data("content")),methods.screenReaderUpdate($(this).data("content")))})},screenReaderUpdate:function(e){settings.elements.screenReader.html(e)},scrollFix:function(){settings.elements.main.find(".showhide-textbox").bind("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent,n=t.wheelDelta||-t.detail;this.scrollTop+=30*(n<0?1:-1),e.preventDefault()})},prefillTextbox:function(){"custom"==settings.mode?settings.elements.textBox.html(settings.triggers[0].content):(settings.elements.main.find(".showhide-clickable-btn").first().addClass("selected"),settings.elements.textBox.html(settings.clickables[0].content))},resizeButtons:function(){function e(){settings.elements.main.find(".showhide-clickable").children().css("height","auto");var e=0;settings.elements.main.find(".showhide-clickable").each(function(t){$(this).height()>e&&(e=$(this).height())}),settings.elements.main.find(".showhide-clickable").children().css("height",e)}e(),$(window).resize(function(){e()})}};return this.each(function(){settings.elements={},settings.elements.main=$(this).addClass("showhide-activity-wrapper"),methods.init(this)})},jQuery.fn.flipcarousel=function(e){var t=$.extend({},{usingAudio:!1,autoPlayAudio:!1,flippable:!1,textAlign:"center",nextBtnTxt:"Next",nextBtnIcon:"fa-chevron-circle-right",prevBtnTxt:"Prev",prevBtnIcon:"fa-chevron-circle-left",flipBtnTxt:"Click this button to flip the card over",flipBtnIcon:"fa-refresh",transBtnTxt:"Transcript",transBtnIcon:"fa-file-text"},e),n={init:function(){n.detectIE(),n.createElements(),n.createBreadcrumbContainers(),n.createCrumbs(),n.updateCrumb(),n.bindCrumbClick(),n.setCounterText(),n.createCard(),n.createUi(),n.createScreenReader(),n.addContent(),n.setHeight(),t.flippable&&n.bindFlip(),n.bindNext(),n.bindPrev(),t.usingAudio&&n.changeAudioAndTranscript(),n.bindScreenReaderEvents()},detectIE:function(){return!0},createElements:function(){t.elements.count=1,t.elements.breadcrumbWrapper=$('<div class="row">'),t.elements.breadcrumbContainer=$('<div class="col-md-10 hidden-xs flipcarousel-breadcrumbs">'),t.elements.breadcrumbCrumb=$('<i aria-labelledby="flipcarousel-screen-reader-'+t.elements.main.attr("id")+'" tabindex="0" class="flipcarousel-crumb fa fa-circle"></i>'),t.elements.breadcrumbCounter=$('<div class="col-md-2 flipcarousel-counter">'),t.elements.breadcrumbCounterText=$('<p tabindex="0" class="text-right"></p>'),t.elements.container=$('<div aria-labelledby="flipcarousel-screen-reader-'+t.elements.main.attr("id")+'" tabindex="0" class="flipcarousel">'),n.detectIE()?t.elements.front=$('<div class="flipcarousel-card flipcarousel-front flipcarousel-front-ie">'):t.elements.front=$('<div class="flipcarousel-card flipcarousel-front">'),t.elements.back=$('<div class="flipcarousel-card flipcarousel-back">'),t.elements.uiContainer=$('<div class="row flipcarousel-ui-container">'),t.flippable&&t.usingAudio?(t.elements.prev=$('<div class="col-md-3 col-sm-3 flipcarousel-prev"><a tabindex="0" class="btn btn-success flipcarousel-btn"><i class="fa '+t.prevBtnIcon+'"></i> '+t.prevBtnTxt+"</a></div>"),t.elements.next=$('<div class="col-md-3 col-sm-3 flipcarousel-next"><a tabindex="0" class="btn btn-success flipcarousel-btn">'+t.nextBtnTxt+' <i class="fa '+t.nextBtnIcon+'"></i></a></div>'),t.elements.flip=$('<div class="col-md-6 col-sm-6 flipcarousel-flip"><a tabindex="0" class="btn btn-default flipcarousel-btn"><i class="fa '+t.flipBtnIcon+'"></i> '+t.flipBtnTxt+"</a></div>"),t.autoPlayAudio?t.elements.audio=$('<div class="tq-media-player col-md-9 col-sm-9"><audio preload="true" autoplay="true" type="audio/mp3" src="" controls="controls"></audio></div>'):t.elements.audio=$('<div class="tq-media-player col-md-9 col-sm-9"><audio preload="true" type="audio/mp3" src="" controls="controls"></audio></div>'),t.elements.transcriptBtn=$('<div aria-hidden="true" class="col-md-3 col-sm-3 flipcarousel-transcript-btn"><a tabindex="-1" class="btn btn-default flipcarousel-btn"><i class="fa '+t.transBtnIcon+'"></i> '+t.transBtnTxt+"</a></div>")):!t.flippable&&t.usingAudio?(t.elements.prev=$('<div class="col-md-6 col-sm-6 flipcarousel-prev"><a tabindex="0" class="btn btn-success flipcarousel-btn"><i class="fa '+t.prevBtnIcon+'"></i> '+t.prevBtnTxt+"</a></div>"),t.elements.next=$('<div class="col-md-6 col-sm-6 flipcarousel-next"><a tabindex="0" class="btn btn-success flipcarousel-btn">'+t.nextBtnTxt+' <i class="fa '+t.nextBtnIcon+'"></i></a></div>'),t.autoPlayAudio?t.elements.audio=$('<div class="tq-media-player col-md-6 col-sm-6"><audio preload="true" autoplay="true" type="audio/mp3" src="" controls="controls"></audio></div>'):t.elements.audio=$('<div class="tq-media-player col-md-6 col-sm-6"><audio preload="true" type="audio/mp3" src="" controls="controls"></audio></div>'),t.elements.transcriptBtn=$('<div aria-hidden="true" class="col-md-6 col-sm-6 flipcarousel-transcript-btn"><a tabindex="-1" class="btn btn-default flipcarousel-btn"><i class="fa '+t.transBtnIcon+'"></i> '+t.transBtnTxt+"</a></div>")):t.flippable&&!t.usingAudio?(t.elements.prev=$('<div class="col-md-2 col-sm-2 flipcarousel-prev"><a tabindex="0" class="btn btn-success flipcarousel-btn"><i class="fa '+t.prevBtnIcon+'"></i> '+t.prevBtnTxt+"</a></div>"),t.elements.next=$('<div class="col-md-2 col-sm-2 flipcarousel-next"><a tabindex="0" class="btn btn-success flipcarousel-btn">'+t.nextBtnTxt+' <i class="fa '+t.nextBtnIcon+'"></i></a></div>'),t.elements.flip=$('<div class="col-md-8 col-sm-8 flipcarousel-flip"><a tabindex="0" class="btn btn-default flipcarousel-btn"><i class="fa '+t.flipBtnIcon+'"></i> '+t.flipBtnTxt+"</a></div>")):t.flippable||t.usingAudio||(t.elements.prev=$('<div class="col-md-2 col-sm-2 flipcarousel-prev"><a tabindex="0" class="btn btn-success flipcarousel-btn"><i class="fa '+t.prevBtnIcon+'"></i> '+t.prevBtnTxt+"</a></div>"),t.elements.next=$('<div class="col-md-2 col-md-offset-8 col-sm-offset-8 col-sm-2 flipcarousel-next"><a tabindex="0" class="btn btn-success flipcarousel-btn">'+t.nextBtnTxt+' <i class="fa '+t.nextBtnIcon+'"></i></a></div>')),t.elements.transcriptText=$('<div class="col-md-12 flipcarousel-transcript-text"><div></div></div>').hide(),t.elements.screenReader=$('<div class="sr-only" id="flipcarousel-screen-reader-'+t.elements.main.attr("id")+'">')},createBreadcrumbContainers:function(){t.elements.main.append(t.elements.breadcrumbWrapper),t.elements.breadcrumbWrapper.append(t.elements.breadcrumbContainer),t.elements.breadcrumbWrapper.append(t.elements.breadcrumbCounter),t.elements.breadcrumbCounter.append(t.elements.breadcrumbCounterText)},createCrumbs:function(){for(var e=0;e<t.card.length;e++)t.elements.breadcrumbContainer.append(t.elements.breadcrumbCrumb.clone().attr("data-crumb",e+1))},updateCrumb:function(){t.elements.main.find(".flipcarousel-crumb").removeClass("fa-dot-circle-o").addClass("fa-circle"),t.elements.main.find(".flipcarousel-crumb").eq(t.elements.count-1).removeClass("fa-circle").addClass("fa-dot-circle-o")},bindCrumbClick:function(){t.elements.main.find(".flipcarousel-breadcrumbs").children().bind("click",function(){t.elements.main.find(".flipcarousel-breadcrumbs").children().unbind("click"),t.elements.main.find(".flipcarousel-breadcrumbs").children().unbind("keydown"),t.elements.count=$(this).data("crumb"),n.setCounterText(),n.updateCrumb(),n.flipAndChange("thumb")}),t.elements.main.find(".flipcarousel-breadcrumbs").children().bind("keydown",function(e){13==e.which&&(t.elements.main.find(".flipcarousel-breadcrumbs").children().unbind("click"),t.elements.main.find(".flipcarousel-breadcrumbs").children().unbind("keydown"),t.elements.count=$(this).data("crumb"),n.setCounterText(),n.updateCrumb(),n.flipAndChange("thumb"))})},setCounterText:function(){t.elements.breadcrumbCounterText.html("Card "+t.elements.count+" of "+t.card.length)},createCard:function(){t.elements.main.append(t.elements.container),t.elements.container.append(t.elements.front),t.elements.container.append(t.elements.back),n.detectIE()&&t.elements.back.hide(),t.elements.front.css("textAlign",t.textAlign),t.elements.back.css("textAlign",t.textAlign)},createUi:function(){t.elements.main.append(t.elements.uiContainer),t.flippable&&t.usingAudio?(t.elements.uiContainer.append(t.elements.audio),t.elements.uiContainer.append(t.elements.transcriptBtn),t.elements.uiContainer.append(t.elements.prev),t.elements.uiContainer.append(t.elements.flip),t.elements.uiContainer.append(t.elements.next),t.elements.main.append(t.elements.transcriptText)):!t.flippable&&t.usingAudio?(t.elements.uiContainer.append(t.elements.audio),t.elements.uiContainer.append(t.elements.transcriptBtn),t.elements.uiContainer.append(t.elements.prev),t.elements.uiContainer.append(t.elements.next),t.elements.main.append(t.elements.transcriptText)):t.flippable&&!t.usingAudio?(t.elements.uiContainer.append(t.elements.prev),t.elements.uiContainer.append(t.elements.flip),t.elements.uiContainer.append(t.elements.next)):t.flippable||t.usingAudio||(t.elements.uiContainer.append(t.elements.prev),t.elements.uiContainer.append(t.elements.next))},createScreenReader:function(){t.elements.main.append(t.elements.screenReader)},changeAudioAndTranscript:function(){function e(){$(t.elements.main.find(".tq-media-player")[0]).hide(),$(t.elements.main.find(".flipcarousel-transcript-btn")[0]).hide(),$(t.elements.main.find(".flipcarousel-transcript-text")[0]).fadeOut()}function s(e){$(t.elements.main.find(".tq-media-player")[0]).show(),$(t.elements.main.find(".flipcarousel-transcript-btn")[0]).show(),$(t.elements.main.find(".flipcarousel-transcript-text")[0]).fadeOut(),t.elements.main.find(".mejs-pause").removeClass("mejs-pause").addClass("mejs-play"),"front"==e?(t.elements.main.find("audio")[0].attributes.src.nodeValue=t.card[t.elements.count-1].front.audio.src,t.elements.transcriptText.children().html("<h4>Audio Transcript:</h4>"+t.card[t.elements.count-1].front.audio.transcript)):(t.elements.main.find("audio")[0].attributes.src.nodeValue=t.card[t.elements.count-1].back.audio.src,t.elements.transcriptText.children().html("<h4>Audio Transcript:</h4>"+t.card[t.elements.count-1].back.audio.transcript)),t.usingAudio&&n.bindTranscriptBtn(),t.elements.main.find("audio").mediaelementplayer({alwaysShowControls:!0})}t.elements.main.find(".flipcarousel").hasClass("flipped")?void 0==t.card[t.elements.count-1].back.audio?e():s("back"):void 0==t.card[t.elements.count-1].front.audio?e():s("front")},bindTranscriptBtn:function(){function e(){t.elements.main.find(".flipcarousel-transcript-btn").bind("click",function(){$(this).children().addClass("active"),$(this).unbind("click"),$(this).unbind("keydown"),n(t.elements.main.find(".flipcarousel-transcript-text"))}),t.elements.main.find(".flipcarousel-transcript-btn").bind("keydown",function(e){13==e.which&&($(this).children().addClass("active"),$(this).unbind("click"),$(this).unbind("keydown"),n(t.elements.main.find(".flipcarousel-transcript-text")))})}function n(n){n.hasClass("visible")?(t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active"),n.removeClass("visible"),n.hide(),e()):(n.addClass("visible"),n.show(),e())}t.elements.main.find(".flipcarousel-transcript-btn").unbind("click"),e()},addContent:function(){t.elements.front.html(t.card[0].front.html),t.flippable&&t.elements.back.html(t.card[0].back.html)},setHeight:function(){},bindFlip:function(){function e(){t.elements.flip.bind("click",function(){$(this).unbind("click"),$(this).unbind("keydown"),s()}),t.elements.flip.bind("keydown",function(e){13==e.which&&($(this).unbind("keydown"),$(this).unbind("click"),s())})}function s(){t.elements.main.find(".flipcarousel").hasClass("flipped")?(t.elements.main.find(".flipcarousel").children().first().transition({perspective:"3000",rotateX:"360deg"}),t.elements.main.find(".flipcarousel").children().last().transition({perspective:"3000",rotateX:"540deg",complete:function(){e(),t.elements.main.find(".flipcarousel").removeClass("flipped"),t.usingAudio&&(n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active"),t.elements.main.find(".flipcarousel").focus())}})):(t.elements.main.find(".flipcarousel").children().first().transition({perspective:"3000",rotateX:"180deg"}),t.elements.main.find(".flipcarousel").children().last().transition({perspective:"3000",rotateX:"360deg",complete:function(){e(),t.elements.main.find(".flipcarousel").addClass("flipped"),t.usingAudio&&(n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active"),t.elements.main.find(".flipcarousel").focus())}}))}function i(){t.elements.flip.bind("click",function(){$(this).unbind("click"),$(this).unbind("keydown"),t.elements.main.find(".flipcarousel").hasClass("flipped")?a(t.elements.main.find(".flipcarousel")):l(t.elements.main.find(".flipcarousel"))}),t.elements.flip.bind("keydown",function(e){13==e.which&&($(this).unbind("keydown"),$(this).unbind("click"),t.elements.main.find(".flipcarousel").hasClass("flipped")?a(t.elements.main.find(".flipcarousel")):l(t.elements.main.find(".flipcarousel")))})}function a(e){e.removeClass("flipped"),t.elements.back.fadeOut(function(){t.elements.front.fadeIn(),i(),n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active"),t.elements.main.find(".flipcarousel").focus()})}function l(e){e.addClass("flipped"),t.elements.front.fadeOut(function(){t.elements.back.fadeIn(),i(),n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active"),t.elements.main.find(".flipcarousel").focus()})}0==n.detectIE()?e():(i(),t.elements.back.hide())},bindNext:function(){function e(){t.elements.count+1>t.card.length?t.elements.count=1:t.elements.count++,n.setCounterText(),n.updateCrumb(),n.flipAndChange("next")}t.elements.next.bind("click",function(){$(this).unbind("click"),$(this).unbind("keydown"),e()}),t.elements.next.bind("keydown",function(t){13==t.which&&($(this).unbind("keydown"),$(this).unbind("click"),e())})},bindPrev:function(){function e(){t.elements.count-1<1?t.elements.count=t.card.length:t.elements.count--,n.setCounterText(),n.updateCrumb(),n.flipAndChange("prev")}t.elements.prev.bind("click",function(){$(this).unbind("click"),$(this).unbind("keydown"),e()}),t.elements.prev.bind("keydown",function(t){13==t.which&&($(this).unbind("keydown"),$(this).unbind("click"),e())})},flipAndChange:function(e){0==n.detectIE()?t.elements.main.find(".flipcarousel").hasClass("flipped")?(t.elements.front.html(t.card[t.elements.count-1].front.html),t.elements.main.find(".flipcarousel").children().first().transition({perspective:"3000",rotateX:"360deg"}),t.elements.main.find(".flipcarousel").children().last().transition({perspective:"3000",rotateX:"540deg",complete:function(){t.elements.back.html(t.card[t.elements.count-1].back.html),"next"==e?n.bindNext():"prev"==e?n.bindPrev():(e="thumb")&&n.bindCrumbClick(),t.elements.main.find(".flipcarousel").removeClass("flipped"),t.usingAudio&&(n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active")),t.elements.main.find(".flipcarousel").focus(),n.setHeight()}})):(t.elements.main.find(".flipcarousel").css("transform","perspective(3000px) rotateY(0deg)"),t.elements.back.children().hide(),t.elements.main.find(".flipcarousel").one().transition({perspective:"3000px",rotateY:"360deg",complete:function(){t.flippable&&t.elements.back.html(t.card[t.elements.count-1].back.html),$(this).css("transform","perspective(3000px) rotateY(0deg)"),t.elements.back.children().show(),"next"==e?n.bindNext():"prev"==e?n.bindPrev():(e="thumb")&&n.bindCrumbClick(),t.usingAudio&&(n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active")),t.elements.main.find(".flipcarousel").focus(),n.setHeight()}}),t.elements.front.html(t.card[t.elements.count-1].front.html)):t.elements.main.find(".flipcarousel").hasClass("flipped")?(t.elements.main.find(".flipcarousel").removeClass("flipped"),"next"==e&&t.elements.back.animate({marginLeft:15},{queue:!1}),"prev"==e&&t.elements.back.animate({marginLeft:"-15"},{queue:!1}),t.elements.back.fadeOut(function(){t.elements.front.html(t.card[t.elements.count-1].front.html),t.elements.back.html(t.card[t.elements.count-1].back.html),t.elements.front.fadeIn(),t.elements.back.css("marginLeft",0),"next"==e?n.bindNext():"prev"==e?n.bindPrev():(e="thumb")&&n.bindCrumbClick(),t.usingAudio&&(n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active")),t.elements.main.find(".flipcarousel").focus(),n.setHeight()})):("next"==e&&t.elements.front.animate({marginLeft:15},{queue:!1}),"prev"==e&&t.elements.front.animate({marginLeft:"-15"},{queue:!1}),t.elements.front.fadeOut(function(){t.elements.front.html(t.card[t.elements.count-1].front.html),t.flippable&&t.elements.back.html(t.card[t.elements.count-1].back.html),t.elements.front.fadeIn(),t.elements.front.css("marginLeft",0),"next"==e?n.bindNext():"prev"==e?n.bindPrev():(e="thumb")&&n.bindCrumbClick(),t.usingAudio&&(n.changeAudioAndTranscript(),t.elements.main.find(".flipcarousel-transcript-text").hide().removeClass("visible"),t.elements.main.find(".flipcarousel-transcript-btn").children().removeClass("active")),t.elements.main.find(".flipcarousel").focus(),n.setHeight()}))},bindScreenReaderEvents:function(){t.elements.main.find(".flipcarousel-crumb").focus(function(){t.elements.screenReader.html("Click this to jump to card "+$(this).data("crumb"))}),t.elements.main.find(".flipcarousel").focus(function(){$(this).hasClass("flipped")?t.elements.screenReader.html(t.elements.main.find(".flipcarousel-back").html()):t.elements.screenReader.html(t.elements.main.find(".flipcarousel-front").html())}),t.elements.main.find(".flipcarousel").blur(function(){t.elements.main.find(".mejs-playpause-button").children().attr("tabindex","0").attr("aria-labelledby","flipcarousel-screen-reader-' + settings.elements.main.attr('id') + '").focus(),t.elements.screenReader.html("Click this play button to listen to the audio")})}};return this.each(function(){t.elements={},t.elements.main=$(this).addClass("flipcarousel-activity"),n.init(this)})},jQuery.fn.vimeoPlaylist=function(e){var t=$.extend({},{},e),n={init:function(){t.elements.wrap=$("<div class='videoPlaylist center'>"),t.elements.videoWrapper=$("<div class='vimeoVideoPlayer'>"),t.elements.videoIntro=$("<div class='col-md-12 introScreen'><p><i class='fa playBtn fa-play-circle fa-4x'></i></p><p>Select a video from the playlist below.</p></div>"),t.elements.videoFrame=$("<iframe id='player_"+t.elements.main.attr("id")+"' src='' class='video videoPlayer' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>"),t.elements.playlistMenu=$("<div class='playlistMenu'>"),t.elements.playlistMenuText=$("<i class='fa fa-bars playlistText'> Hide Playlist</i>"),t.elements.playlistMenuCounter=$("<div class='videoCounter'>"),t.elements.playlistContainer=$("<div class='thumbnailContainer visible'>"),t.elements.playlistThumbDiv=$("<div tabindex=0 class='thumbDiv row'>"),t.elements.playlistThumbImg=$("<div class='col-md-2 col-sm-4 col-xs-4 thumbImg'><img data-id='' class='noborder transparent videoThumb'/></div>"),t.elements.playlistThumbInfo=$("<div class='thumbInfo col-md-10 col-sm-8 col-xs-8'>"),t.elements.playlistMenuCounter.html("Currently Viewing Video 0/"+t.videos.length),t.elements.current=1,n.buildContainers(),n.addEventListener()},buildContainers:function(){t.elements.main.append(t.elements.wrap),t.elements.wrap.append(t.elements.videoWrapper),t.elements.videoWrapper.append(t.elements.videoFrame),t.elements.wrap.append(t.elements.playlistMenu),t.elements.playlistMenu.append(t.elements.playlistMenuText),t.elements.playlistMenu.append(t.elements.playlistMenuCounter),t.elements.wrap.append(t.elements.playlistContainer),n.buildThumbnails()},buildThumbnails:function(){for(var e=0;e<t.videos.length;e++)t.elements.playlistContainer.append(t.elements.playlistThumbDiv.clone().attr("data-num",e));t.elements.main.find($(".thumbDiv")).each(function(e){$(this).append(t.elements.playlistThumbImg.clone()),$(this).append(t.elements.playlistThumbInfo.clone().addClass("ti"+e).attr("data-num",e)),e%2==0?$(this).addClass("videoBG1"):$(this).addClass("videoBG2")});t.elements.main.find($(".videoThumb")).each(function(e){var n=$(this);$(this).attr("data-num",e);var s=t.videos[e].host;if("vimeo"==s)$.ajax({url:"https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+t.videos[e].video_id,dataType:"json",success:function(s){n.attr("src",s.thumbnail_url),n.css("width","100%"),t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Title:</b> "+s.title+"</p>"),t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Duration:</b> "+s.duration+" seconds</p>"),s.description.length>0&&t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Description:</b> "+s.description+"</p>")},error:function(){n.attr("src","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/2wBDAAYGBgYGBgoGBgoOCgoKDhIODg4OEhcSEhISEhccFxcXFxcXHBwcHBwcHBwiIiIiIiInJycnJywsLCwsLCwsLCz/2wBDAQcHBwsKCxMKChMuHxofLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi7/wAARCACmAScDASIAAhEBAxEB/8QAHAABAQADAQEBAQAAAAAAAAAAAAMBBAcGBQII/8QAPBAAAQMEAQEFBQQIBgMAAAAAAAECEgMEBREGIQcTMUFRImFxgaEUIzKRFUJScnSisuEWF1NikrHR0vD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/pfY2S2NgV2Y2T2NgVkNktjYFdjZLYkBWQ2S2JAV2NktiQFdjZLY2BXY2S2NgV2JEtjYFdjZLY2BXYkS2NgV2NkpCQFdjZLY2BXY2SkNgV2NkpDYFdjZLYkBXY2S2NgV2NktjYFNgnsAS2YkSkJAW2JEZDYFpDZGQkBaQ2SkYkBaRjZKQ2BaQ2RkJAW2JEZDYFpDZGQ2BWRmRGQkBaQkRkJAW2JEZDYFpCRGQ2BaQkRkJAW2JEdiQFtjZGQkBaQ2RkJAW2JEZCQFtiRGQkBbYIyAEZCRKQkBWRmRGQkBWRmRGQkBaQkRkJAWkJEZGJAXkJEZCQFpGJEpGJAWkJEpCQFZCRKRiQF5GJEpGNgXkY2SkYkBaQkR2JAXkJEZCQFZGZEZCQFZGZEZCQFpCRGQkBaRiRGRmQFpCRGQkBaQIyAEZGJEZCQF5GJEZCQFpCRGQkBeQkQkJAWkZ2QkJAWkJEZCQF5GJEZCQFpHO+0fkGVwGNtrjE1u5fUrKxyxa7aRVf1kXzPfSOSdry7xFn/EL/QoG/2dc1us/wB/jsxUR92z7ym7SNmzwVNNRE21fovuN3tH5BlcBjba4xNbuX1KytcsWu2kVX9ZFOOLY3nG7TD8vx241E9v0So1VRWr7ntT/s9x2lZK2y/GMZkbRd069WSeqewu0X3ovRQOncRyN3lOOWd/fP7ytVYqvdpG7VHKngmk8j0UjmOEzVPAdnNvk6iSWlSVGN/ae56o1Phvx9xzvF47l/Pn18hVvlpUWuj7TnIyWtxYxvTomv7qB/SUjMj+cbTOck4Hnm43M13XFs5Wq9HOV7Vpqup01Xqip16eetKf0M16ORHNXaKm0+AF5GZEJCQF5GJEZCQFpGZEJCQFpGZEJCQFpCRGQkBaQkRkJAXkJEJCQFpAjIARkJEJCQF5CRCQkBeQkQkJAXkYkRkJAWkZkQkJAXkJEJCQF5GJEZCQF5HJu1td4iz/AIhf6VOpSPKcs41/ii0o2v2j7P3VScoT30VNak0DQ49i7fNcAtsZdfhq0nIi+bXI9Va5PgvU4RkKuQx9vU41eppLa4Woifsu0rV17nJpU/uf03g8b+hcTb4vvO97hqtnqO9qq+G114+p5blXBLbkl4y/p3H2WqjYvXu5zRPwr+JulTw+GvQDzGSoVa/ZTaLS2qUla9yJ+zNyfTez0PZZfW1Xj7rJjk76jVcr2+enaVHa9PL5HqsTh6WOwdPB13JcU2MdTcqtij0cq76bX114nOb7stVty6vhr5aLFXox6LtqL5TRdqnyA+J2pXdG9z9C1tVSpUo0kY+PVZOcqo34/wDk7xYsfQsqFCou3U6bGuX3oiIpznjnZ1Z4e8bkb+v9rrU1R1NIxY1yefiquVPLw+B0qQFpGZEJCQFpCRGQkBeQkQkJAWkZkQkJAXkYkRkJAXkYkRkJAXkYkRkJAXkDXkAIyEiEjEgNiQkQkJAXkJEJCQF5CRCQkBeQkQkYc9GtVy+XUDYkJHM/8z+P/wClc/8ABn/uWodpXHKr0Y/v6SKv4nsTX8qqv0A6NISNK3uqF3RZcWz21Kb021zV2ioWkBeQkQkJAXkJEJCQF5CRCRoZPJUcXYVchXRzmUWycjdK5fLptUT6gfWkJHmMBySy5FRq17NlRiUnI1e8REXapvppVPQSAvISISEgLyEiEhIC8hIhISAvISISEgLyEiEhIC8hIhISAvISISEgLyBCQAhIxIhISA2JGJEJCQGxIxIhISAvISISEgLyPxUd9274KTkfio77t3wUDgvBcfZZLNOt7+klamlFzou8Noqdeh7fmHF8DaYOtfWlBLerRirVaq6XbkTSoq6XxOYYC3y9zfLTwj3U68FVVa+Cx2m+v5HravE+Z5ONLI3EmIu/vayuRPfpNgfd7Pr+tQ4/fOcivZbOdUYir0/BtUT08PqZodp1F1pXrV7WFVitSlTR+5q7e1VYppG69/ifetMLRwHGrqypOm5aVV9R+tScrV8vJERNHPOz3GWd/kK9a8ptqpQYita5Nt25fHS9F0iAdJxvLKNbjy57JNSi1HObFnVV0ukRN+KqePqdpl89zqtrj07lq9Vc5VXXvVE0n1MdpTko29ja0Woykrqj1RqaTaI1E6J8VIYfN8gsMTRsrTDLVoQ3KLlR6O6q5eml3sD3/HuU2nIrd7qDVpV6Se3Scu9b8FRfNPl8j42D5y/KZj9EXVolu9ZpucvaZ1VNRT0U8jw7H5mx5G2vUs6tvQqpUa+TFRqNVFcibX3ohHlFJcDy+llaSap1Htr9PXenp8/H5gdL5TydOOW1GqlJKz6z1ajVdHoibVd6X3fmRr5n7ZxKpl7+0arX05rQVyqjmy0m3aTxTr4HgOY1HZ3lFtibd22tRjNp1RFqe053ybr8j3/KGU6HFrqhSSLGUUa1PREVERANXg2Rsb+0uH2Nkyya2oiK1jldJdePVEPn5ntDpWl46wxVv9qexVar1VUbJPJqIiq749D4XC6z7fjWXrUtzY1zm68dpTVUPNcTvcjj7mtd42xW9qRRiqiKsEVd+Xrr6AdBwvaJTu7xtjlbf7M96xR6KsUcvgjkXqnx6m7yTmlbj2RbZutEqsexHo+euiqqL0ivhr1Oe8gpchz90y7qYmrRqNbFVYx3tem+nkff5zaV7jA47J3DVSvTa1lVFTSotRqKu/g5PqB7rkvJW4DH0r5lNK61Xo1rZR6Kirvel9D9cc5GzPY1+QfTSh3T3Mc2UtaRF3vSeSnML67/AE7T47jd7k1EqfJyU1VfkxT8Yu8XCWfIMY5dKxqtZ8ZLS3/MgHvOM8yrciv6lq20SjTpsV6vnLzRETUU8d+p7mRzHs3su4xle/cntXFSKfus/uq/kdHkBeRmRryEgLyEiEhIC8hIhISAvISISEgLyBCQA15CRCQkBeRmRryEgLyMyNeQmBsSMSISEgLyPy922O+CkpCQHJuC43JWeadWu7WtRZ3Lkk+m5qbVW9NqiHYJEJCQEclOpjrmmxFc51F6IidVVVaukRDnvZ9Y39jcXbry3q0UcxiItRjm70q+G0Q6RISA85y7BvzuPRluv39FZU0VdI7fRU37zw9jyPlOGtW4l9ir3U0hTVzH7T08OjkTy0dbkJAeM4nb8kfUdf5uvVRitVGUXr1VV81Ty15IU51iquTxTK1tTdUrW79o1qK5ytd0ciInX0X5Hr5CQHL+D4a/blKuTydGpTdSZFnetVqq53TabTrpqa+Z7rk1OrcYG7o0GOqPczSNaiqq9U8EQ+tISA8FwXH3NHG3ltkKFSilZ2tVGqxVardLrejzlO15DwvI1atnRW4t6nSUVc1zUXpuPVrk/wDtnYJCQHLaV7zLkd+11DvLCgiIiqiK1iJ5rtfxO+H0PfZ6wW/wdxYt29y0/Z31VXM6t+aqh9SQkByHheGyNPOU7i+t61JlvTerVqMc1Nr00m0/3KpLl+Fybs7cVrK2rVaVdrXKtNjnJvSbRVRPVNnY5CQGnhrNMbiray8Fp00R37y9XfVVPpyISEgNiQka8hIC8jMjXkJAXkZka8hIDYkJGvISA2JA15ADXkJEJGJAbEhI15GZAXkJGvISA2JCRryEgNiQka8hIDYkJGvISA2JCRryEgNiQka8hIDYkJGvISA2JCRryMyAvISISMSA2JCRryMyAvISNeQkBsSEiEhIC8hIhIxIDYkJGvISA2JCRryEgNiQkQkYkBsSBrzAEJCRryEgLyMyNaRmQGxIxIhISA2JGJEJCQGxIxIhISA2JGJEJCQF5CRCQkBsSEjXkJAXkJGvISA2JGZGtIzIDYkJGvISA2JCRryEgNiRiRCQkBeRmRryMSA2ZCRryMSA2JCRCQkBsSEjXkJAbEjEjXkZkBsSBryAGvISAASElAASUSUABISUABISAASElAASEgAEhIABISUABISAASEgAEhIABIbAAbEgAGxIABJRIABISAASEgAEgAB/9k="),n.css("width","100%");var s=t.videos[e].title,i=t.videos[e].duration;if(void 0===s&&(s="N/A"),void 0===i)i="N/A";t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Title:</b> "+s+"</p>"),t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Duration:</b> "+i+" seconds</p>")}});else if("youtube"==s){$.ajax({url:"https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id="+t.videos[e].video_id+"&key=AIzaSyD_2c-1Q2RQsURQHHIrotyeI_miY6rgIbc",dataType:"jsonp",success:function(s){var i=s.items[0].snippet.title,a=s.items[0].snippet.description,l=s.items[0].snippet.thumbnails.high.url,r=function(e){var t=e.match(/\d+/g);return e.indexOf("M")>=0&&-1==e.indexOf("H")&&-1==e.indexOf("S")&&(t=[0,t[0],0]),e.indexOf("H")>=0&&-1==e.indexOf("M")&&(t=[t[0],0,t[1]]),e.indexOf("H")>=0&&-1==e.indexOf("M")&&-1==e.indexOf("S")&&(t=[t[0],0,0]),e=0,3==t.length&&(e+=3600*parseInt(t[0]),e+=60*parseInt(t[1]),e+=parseInt(t[2])),2==t.length&&(e+=60*parseInt(t[0]),e+=parseInt(t[1])),1==t.length&&(e+=parseInt(t[0])),e}(s.items[0].contentDetails.duration);n.attr("src",l),n.css("width","100%"),t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Title:</b> "+i+"</p>"),t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Duration:</b> "+r+" seconds</p>"),a.length>0&&t.elements.main.find($(".ti"+e)).append("<p class='thumbInfoText'><b>Description:</b> "+a+"</p>")}})}}),n.changeVideoSrc(0,!1)},changeVideoSrc:function(e,n){var s=t.elements.playlistContainer.find($(".thumbDiv"));t.elements.main.find($(".videoCounter")).html("Currently Viewing Video "+(e+1)+"/"+t.videos.length),t.elements.current=e,"vimeo"==t.videos[e].host?1==n?videoSrc="//player.vimeo.com/video/"+t.videos[e].video_id+"?api=1&player_id=player_"+t.elements.main.attr("id")+"&autoplay=1":0==n&&(videoSrc="//player.vimeo.com/video/"+t.videos[e].video_id+"?api=1&player_id=player_"+t.elements.main.attr("id")):"youtube"==t.videos[e].host&&(1==n?videoSrc="https://www.youtube.com/embed/"+t.videos[e].video_id+"?autoplay=1":0==n&&(videoSrc="https://www.youtube.com/embed/"+t.videos[e].video_id)),t.elements.videoFrame.attr("src",videoSrc),url="https://"+t.elements.videoFrame.attr("src").split("?")[0],$(".videoPlayer").css("display","hidden")&&$(".videoPlayer").show(),t.elements.main.find($(s)).removeClass("currentlyPlaying"),t.elements.main.find($(s[e])).addClass("currentlyPlaying")},addEventListener:function(){var e=t.elements.main.find($(".playBtn")),s=t.elements.main.find($(".thumbDiv")),i=t.elements.main.find($(".playlistMenu"));$(s).keydown(function(e){13==e.which&&n.changeVideoSrc($(this).data("num"),!0)}),$(s).click(function(){n.changeVideoSrc($(this).data("num"),!0)}),$(e).click(function(){n.changeVideoSrc(0,!0)}),$(i).click(function(){n.toggleMenu($(this).children().first())}),window.addEventListener?window.addEventListener("message",n.onMessageReceived,!1):window.attachEvent("onmessage",n.onMessageReceived,!1);t.elements.main.find($(".thumbDiv")).hover(function(){$(this).toggleClass("videoHover")},function(){$(this).toggleClass("videoHover")})},toggleMenu:function(e){e.toggleClass("showHide"),e.hasClass("showHide")?e.html(" Show Playlist"):e.html(" Hide Playlist"),t.elements.playlistContainer.slideToggle()},onMessageReceived:function(e){var t=JSON.parse(e.data);"ready"==t.event?n.onReady():"finish"==t.event&&n.onFinish(t.player_id)},post:function(e,n){var s={method:e};n&&(s.value=n),t.elements.videoFrame[0].contentWindow.postMessage(s,url)},onReady:function(){n.post("addEventListener","finish")},onFinish:function(e){var n=[],s=[];t.elements.main.find($(".videoThumb")).each(function(e){n[e]=t.videos[$(this).data("num")].video_id,s[e]=$(this).parent().parent()}),t.elements.current==t.videos.length-1?(t.elements.current=0,"vimeo"==t.videos[0].host?videoSrc="//player.vimeo.com/video/"+n[0]+"?api=1&player_id=player_"+t.elements.main.attr("id")+"&autoplay=1":"youtube"==t.videos[0].host&&(videoSrc="https://www.youtube.com/embed/"+n[0]+"?autoplay=1"),t.elements.videoFrame.attr("src",videoSrc),t.elements.main.find($(".thumbDiv")).removeClass("currentlyPlaying"),t.elements.main.find($(s[0])).addClass("currentlyPlaying"),t.elements.playlistMenuCounter.html("Currently Viewing Video 1/"+t.videos.length)):(t.elements.current++,t.elements.playlistMenuCounter.html("Currently Viewing Video "+(t.elements.current+1)+"/"+t.videos.length),"vimeo"==t.videos[t.elements.current].host?videoSrc="//player.vimeo.com/video/"+n[t.elements.current]+"?api=1&player_id=player_"+t.elements.main.attr("id")+"&autoplay=1":"youtube"==t.videos[t.elements.current].host&&(videoSrc="https://www.youtube.com/embed/"+n[t.elements.current]+"?autoplay=1"),t.elements.videoFrame.attr("src",videoSrc),t.elements.main.find($(".thumbDiv")).removeClass("currentlyPlaying"),t.elements.main.find($(s[t.elements.current])).addClass("currentlyPlaying"))}};return this.each(function(){t.elements={},t.elements.main=$(this),t.elements.main.addClass("col-md-12"),n.init(this)})};
//# sourceMappingURL=tq-interactivities.min.js.map
